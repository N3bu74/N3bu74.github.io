<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Golang ç»“æ„ä½“ | N3bu74&#39;s Blog</title>
<meta name="keywords" content="">
<meta name="description" content="GolangåŸºç¡€åä¹‹ ç»“æ„ä½“">
<meta name="author" content="
ğŸ™â€â™‚ï¸&nbsp;N3bu74">
<link rel="canonical" href="https://N3bu74.github.io/posts/tech/golang_struct/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f5f7976b0695bcc912cd3f9e0715cf7d38944601dc8250a8f2f117625f16e974.css" integrity="sha256-9feXawaVvMkSzT&#43;eBxXPfTiURgHcglCo8vEXYl8W6XQ=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.acb54fd32bbc1982428b8850317e45d076b95012730a5936667e6bc21777692a.js" integrity="sha256-rLVP0yu8GYJCi4hQMX5F0Ha5UBJzClk2Zn5rwhd3aSo="
        onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://N3bu74.github.io/img/N3bu74.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://N3bu74.github.io/img/N3bu74.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://N3bu74.github.io/img/N3bu74.png">
<link rel="apple-touch-icon" href="https://N3bu74.github.io/img/N3bu74.png">
<link rel="mask-icon" href="https://N3bu74.github.io/img/N3bu74.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = ""; 
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<meta property="og:title" content="Golang ç»“æ„ä½“" />
<meta property="og:description" content="GolangåŸºç¡€åä¹‹ ç»“æ„ä½“" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://N3bu74.github.io/posts/tech/golang_struct/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-23T22:56:56+08:00" />
<meta property="article:modified_time" content="2022-12-23T22:56:56+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Golang ç»“æ„ä½“"/>
<meta name="twitter:description" content="GolangåŸºç¡€åä¹‹ ç»“æ„ä½“"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [

        {
          "@type": "ListItem",
          "position":  2 ,
          "name": "ğŸ“šæ–‡ç« ",
          "item": "https://N3bu74.github.io/posts/"
        },

        {
          "@type": "ListItem",
          "position":  3 ,
          "name": "ğŸ‘¨ğŸ»â€ğŸ’» æŠ€æœ¯",
          "item": "https://N3bu74.github.io/posts/tech/"
        }, 
    {
      "@type": "ListItem",
      "position":  4 ,
      "name": "Golang ç»“æ„ä½“",
      "item": "https://N3bu74.github.io/posts/tech/golang_struct/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Golang ç»“æ„ä½“",
  "name": "Golang ç»“æ„ä½“",
  "description": "GolangåŸºç¡€åä¹‹ ç»“æ„ä½“",
  "keywords": [
    ""
  ],
  "articleBody": "Goè¯­è¨€ä¸­æ²¡æœ‰â€œç±»â€çš„æ¦‚å¿µï¼Œä¹Ÿä¸æ”¯æŒâ€œç±»â€çš„ç»§æ‰¿ç­‰é¢å‘å¯¹è±¡çš„æ¦‚å¿µã€‚Goè¯­è¨€ä¸­é€šè¿‡ç»“æ„ä½“çš„å†…åµŒå†é…åˆæ¥å£æ¯”é¢å‘å¯¹è±¡å…·æœ‰æ›´é«˜çš„æ‰©å±•æ€§å’Œçµæ´»æ€§ã€‚\n1. ç±»å‹åˆ«åå’Œè‡ªå®šä¹‰ç±»å‹ 1.1 è‡ªå®šä¹‰ç±»å‹ åœ¨Goè¯­è¨€ä¸­æœ‰ä¸€äº›åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œå¦‚stringã€æ•´å‹ã€æµ®ç‚¹å‹ã€å¸ƒå°”ç­‰æ•°æ®ç±»å‹ï¼Œ Goè¯­è¨€ä¸­å¯ä»¥ä½¿ç”¨typeå…³é”®å­—æ¥å®šä¹‰è‡ªå®šä¹‰ç±»å‹ã€‚\nè‡ªå®šä¹‰ç±»å‹æ˜¯å®šä¹‰äº†ä¸€ä¸ªå…¨æ–°çš„ç±»å‹ã€‚æˆ‘ä»¬å¯ä»¥åŸºäºå†…ç½®çš„åŸºæœ¬ç±»å‹å®šä¹‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡structå®šä¹‰ã€‚ä¾‹å¦‚ï¼š\n//å°†MyIntå®šä¹‰ä¸ºintç±»å‹ type MyInt int é€šè¿‡typeå…³é”®å­—çš„å®šä¹‰ï¼ŒMyIntå°±æ˜¯ä¸€ç§æ–°çš„ç±»å‹ï¼Œå®ƒå…·æœ‰intçš„ç‰¹æ€§ã€‚\n1.2 ç±»å‹åˆ«å ç±»å‹åˆ«åæ˜¯Go1.9ç‰ˆæœ¬æ·»åŠ çš„æ–°åŠŸèƒ½ã€‚\nç±»å‹åˆ«åè§„å®šï¼šTypeAliasåªæ˜¯Typeçš„åˆ«åï¼Œæœ¬è´¨ä¸ŠTypeAliasä¸Typeæ˜¯åŒä¸€ä¸ªç±»å‹ã€‚å°±åƒä¸€ä¸ªå­©å­å°æ—¶å€™æœ‰å°åã€ä¹³åï¼Œä¸Šå­¦åç”¨å­¦åï¼Œè‹±è¯­è€å¸ˆåˆä¼šç»™ä»–èµ·è‹±æ–‡åï¼Œä½†è¿™äº›åå­—éƒ½æŒ‡çš„æ˜¯ä»–æœ¬äººã€‚\ntype TypeAlias = Type æˆ‘ä»¬ä¹‹å‰è§è¿‡çš„runeå’Œbyteå°±æ˜¯ç±»å‹åˆ«åï¼Œä»–ä»¬çš„å®šä¹‰å¦‚ä¸‹ï¼š\ntype byte = uint8 type rune = int32 1.3 ç±»å‹å®šä¹‰å’Œç±»å‹åˆ«åçš„åŒºåˆ« ç±»å‹åˆ«åä¸ç±»å‹å®šä¹‰è¡¨é¢ä¸Šçœ‹åªæœ‰ä¸€ä¸ªç­‰å·çš„å·®å¼‚ï¼Œæˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„è¿™æ®µä»£ç æ¥ç†è§£å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ã€‚\n//ç±»å‹å®šä¹‰ type NewInt int //ç±»å‹åˆ«å type MyInt = int func main() { var a NewInt var b MyInt fmt.Printf(\"type of a:%T\\n\", a) //type of a:main.NewInt fmt.Printf(\"type of b:%T\\n\", b) //type of b:int } ç»“æœæ˜¾ç¤ºaçš„ç±»å‹æ˜¯main.NewIntï¼Œè¡¨ç¤ºmainåŒ…ä¸‹å®šä¹‰çš„NewIntç±»å‹ã€‚bçš„ç±»å‹æ˜¯intã€‚MyIntç±»å‹åªä¼šåœ¨ä»£ç ä¸­å­˜åœ¨ï¼Œç¼–è¯‘å®Œæˆæ—¶å¹¶ä¸ä¼šæœ‰MyIntç±»å‹ã€‚\n2.ç»“æ„ä½“ Goè¯­è¨€ä¸­çš„åŸºç¡€æ•°æ®ç±»å‹å¯ä»¥è¡¨ç¤ºä¸€äº›äº‹ç‰©çš„åŸºæœ¬å±æ€§ï¼Œä½†æ˜¯å½“æˆ‘ä»¬æƒ³è¡¨è¾¾ä¸€ä¸ªäº‹ç‰©çš„å…¨éƒ¨æˆ–éƒ¨åˆ†å±æ€§æ—¶ï¼Œè¿™æ—¶å€™å†ç”¨å•ä¸€çš„åŸºæœ¬æ•°æ®ç±»å‹æ˜æ˜¾å°±æ— æ³•æ»¡è¶³éœ€æ±‚äº†ï¼ŒGoè¯­è¨€æä¾›äº†ä¸€ç§è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œå¯ä»¥å°è£…å¤šä¸ªåŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¿™ç§æ•°æ®ç±»å‹å«ç»“æ„ä½“ï¼Œè‹±æ–‡åç§°structã€‚ ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡structæ¥å®šä¹‰è‡ªå·±çš„ç±»å‹äº†ã€‚\nGoè¯­è¨€ä¸­é€šè¿‡structæ¥å®ç°é¢å‘å¯¹è±¡ã€‚\n2.1 ç»“æ„ä½“çš„å®šä¹‰ ä½¿ç”¨typeå’Œstructå…³é”®å­—æ¥å®šä¹‰ç»“æ„ä½“ï¼Œå…·ä½“ä»£ç æ ¼å¼å¦‚ä¸‹ï¼š\ntype ç±»å‹å struct { å­—æ®µå å­—æ®µç±»å‹ å­—æ®µå å­—æ®µç±»å‹ â€¦ } å…¶ä¸­ï¼š\nç±»å‹åï¼šæ ‡è¯†è‡ªå®šä¹‰ç»“æ„ä½“çš„åç§°ï¼Œåœ¨åŒä¸€ä¸ªåŒ…å†…ä¸èƒ½é‡å¤ã€‚ å­—æ®µåï¼šè¡¨ç¤ºç»“æ„ä½“å­—æ®µåã€‚ç»“æ„ä½“ä¸­çš„å­—æ®µåå¿…é¡»å”¯ä¸€ã€‚ å­—æ®µç±»å‹ï¼šè¡¨ç¤ºç»“æ„ä½“å­—æ®µçš„å…·ä½“ç±»å‹ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªPersonï¼ˆäººï¼‰ç»“æ„ä½“ï¼Œä»£ç å¦‚ä¸‹ï¼š\ntype person struct { name string city string age int8 } åŒæ ·ç±»å‹çš„å­—æ®µä¹Ÿå¯ä»¥å†™åœ¨ä¸€è¡Œï¼Œ\ntype person1 struct { name, city string age int8 } è¿™æ ·æˆ‘ä»¬å°±æ‹¥æœ‰äº†ä¸€ä¸ªpersonçš„è‡ªå®šä¹‰ç±»å‹ï¼Œå®ƒæœ‰nameã€cityã€ageä¸‰ä¸ªå­—æ®µï¼Œåˆ†åˆ«è¡¨ç¤ºå§“åã€åŸå¸‚å’Œå¹´é¾„ã€‚è¿™æ ·æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªpersonç»“æ„ä½“å°±èƒ½å¤Ÿå¾ˆæ–¹ä¾¿çš„åœ¨ç¨‹åºä¸­è¡¨ç¤ºå’Œå­˜å‚¨äººä¿¡æ¯äº†ã€‚\nè¯­è¨€å†…ç½®çš„åŸºç¡€æ•°æ®ç±»å‹æ˜¯ç”¨æ¥æè¿°ä¸€ä¸ªå€¼çš„ï¼Œè€Œç»“æ„ä½“æ˜¯ç”¨æ¥æè¿°ä¸€ç»„å€¼çš„ã€‚æ¯”å¦‚ä¸€ä¸ªäººæœ‰åå­—ã€å¹´é¾„å’Œå±…ä½åŸå¸‚ç­‰ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ç§èšåˆå‹çš„æ•°æ®ç±»å‹\n2.2 ç»“æ„ä½“å®ä¾‹åŒ– åªæœ‰å½“ç»“æ„ä½“å®ä¾‹åŒ–æ—¶ï¼Œæ‰ä¼šçœŸæ­£åœ°åˆ†é…å†…å­˜ã€‚ä¹Ÿå°±æ˜¯å¿…é¡»å®ä¾‹åŒ–åæ‰èƒ½ä½¿ç”¨ç»“æ„ä½“çš„å­—æ®µã€‚\nç»“æ„ä½“æœ¬èº«ä¹Ÿæ˜¯ä¸€ç§ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥åƒå£°æ˜å†…ç½®ç±»å‹ä¸€æ ·ä½¿ç”¨varå…³é”®å­—å£°æ˜ç»“æ„ä½“ç±»å‹ã€‚\nvar ç»“æ„ä½“å®ä¾‹ ç»“æ„ä½“ç±»å‹ 2.2.1 åŸºæœ¬å®ä¾‹åŒ– ä¸¾ä¸ªä¾‹å­ï¼š\ntype person struct { name string city string age int8 } func main() { var p1 person p1.name = \"æ²™æ²³å¨œæ‰\" p1.city = \"åŒ—äº¬\" p1.age = 18 fmt.Printf(\"p1=%v\\n\", p1) //p1={æ²™æ²³å¨œæ‰ åŒ—äº¬ 18} fmt.Printf(\"p1=%#v\\n\", p1) //p1=main.person{name:\"æ²™æ²³å¨œæ‰\", city:\"åŒ—äº¬\", age:18} } æˆ‘ä»¬é€šè¿‡.æ¥è®¿é—®ç»“æ„ä½“çš„å­—æ®µï¼ˆæˆå‘˜å˜é‡ï¼‰,ä¾‹å¦‚p1.nameå’Œp1.ageç­‰ã€‚\n2.2.2 åŒ¿åç»“æ„ä½“ åœ¨å®šä¹‰ä¸€äº›ä¸´æ—¶æ•°æ®ç»“æ„ç­‰åœºæ™¯ä¸‹è¿˜å¯ä»¥ä½¿ç”¨åŒ¿åç»“æ„ä½“ã€‚\npackage main import ( \"fmt\" ) func main() { var user struct{Name string; Age int} user.Name = \"å°ç‹å­\" user.Age = 18 fmt.Printf(\"%#v\\n\", user) } 2.2.3 åˆ›å»ºæŒ‡é’ˆç±»å‹ç»“æ„ä½“ æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ä½¿ç”¨newå…³é”®å­—å¯¹ç»“æ„ä½“è¿›è¡Œå®ä¾‹åŒ–ï¼Œå¾—åˆ°çš„æ˜¯ç»“æ„ä½“çš„åœ°å€ã€‚ æ ¼å¼å¦‚ä¸‹ï¼š\nvar p2 = new(person) fmt.Printf(\"%T\\n\", p2) //*main.person fmt.Printf(\"p2=%#v\\n\", p2) //p2=\u0026main.person{name:\"\", city:\"\", age:0} ä»æ‰“å°çš„ç»“æœä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºp2æ˜¯ä¸€ä¸ªç»“æ„ä½“æŒ‡é’ˆã€‚\néœ€è¦æ³¨æ„çš„æ˜¯åœ¨Goè¯­è¨€ä¸­æ”¯æŒå¯¹ç»“æ„ä½“æŒ‡é’ˆç›´æ¥ä½¿ç”¨.æ¥è®¿é—®ç»“æ„ä½“çš„æˆå‘˜ã€‚\nvar p2 = new(person) p2.name = \"å°ç‹å­\" p2.age = 28 p2.city = \"ä¸Šæµ·\" fmt.Printf(\"p2=%#v\\n\", p2) //p2=\u0026main.person{name:\"å°ç‹å­\", city:\"ä¸Šæµ·\", age:28} 2.2.4 å–ç»“æ„ä½“çš„åœ°å€å®ä¾‹åŒ– ä½¿ç”¨\u0026å¯¹ç»“æ„ä½“è¿›è¡Œå–åœ°å€æ“ä½œç›¸å½“äºå¯¹è¯¥ç»“æ„ä½“ç±»å‹è¿›è¡Œäº†ä¸€æ¬¡newå®ä¾‹åŒ–æ“ä½œã€‚\np3 := \u0026person{} fmt.Printf(\"%T\\n\", p3) //*main.person fmt.Printf(\"p3=%#v\\n\", p3) //p3=\u0026main.person{name:\"\", city:\"\", age:0} p3.name = \"ä¸ƒç±³\" p3.age = 30 p3.city = \"æˆéƒ½\" fmt.Printf(\"p3=%#v\\n\", p3) //p3=\u0026main.person{name:\"ä¸ƒç±³\", city:\"æˆéƒ½\", age:30} p3.name = \"ä¸ƒç±³\"å…¶å®åœ¨åº•å±‚æ˜¯(*p3).name = \"ä¸ƒç±³\"ï¼Œè¿™æ˜¯Goè¯­è¨€å¸®æˆ‘ä»¬å®ç°çš„è¯­æ³•ç³–ã€‚\n2.3 ç»“æ„ä½“åˆå§‹åŒ– æ²¡æœ‰åˆå§‹åŒ–çš„ç»“æ„ä½“ï¼Œå…¶æˆå‘˜å˜é‡éƒ½æ˜¯å¯¹åº”å…¶ç±»å‹çš„é›¶å€¼ã€‚\ntype person struct { name string city string age int8 } func main() { var p4 person fmt.Printf(\"p4=%#v\\n\", p4) //p4=main.person{name:\"\", city:\"\", age:0} } 2.3.1 ä½¿ç”¨é”®å€¼å¯¹åˆå§‹åŒ– ä½¿ç”¨é”®å€¼å¯¹å¯¹ç»“æ„ä½“è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œé”®å¯¹åº”ç»“æ„ä½“çš„å­—æ®µï¼Œå€¼å¯¹åº”è¯¥å­—æ®µçš„åˆå§‹å€¼ã€‚\np5 := person{ name: \"å°ç‹å­\", city: \"åŒ—äº¬\", age: 18, } fmt.Printf(\"p5=%#v\\n\", p5) //p5=main.person{name:\"å°ç‹å­\", city:\"åŒ—äº¬\", age:18} ä¹Ÿå¯ä»¥å¯¹ç»“æ„ä½“æŒ‡é’ˆè¿›è¡Œé”®å€¼å¯¹åˆå§‹åŒ–ï¼Œä¾‹å¦‚ï¼š\np6 := \u0026person{ name: \"å°ç‹å­\", city: \"åŒ—äº¬\", age: 18, } fmt.Printf(\"p6=%#v\\n\", p6) //p6=\u0026main.person{name:\"å°ç‹å­\", city:\"åŒ—äº¬\", age:18} å½“æŸäº›å­—æ®µæ²¡æœ‰åˆå§‹å€¼çš„æ—¶å€™ï¼Œè¯¥å­—æ®µå¯ä»¥ä¸å†™ã€‚æ­¤æ—¶ï¼Œæ²¡æœ‰æŒ‡å®šåˆå§‹å€¼çš„å­—æ®µçš„å€¼å°±æ˜¯è¯¥å­—æ®µç±»å‹çš„é›¶å€¼ã€‚\np7 := \u0026person{ city: \"åŒ—äº¬\", } fmt.Printf(\"p7=%#v\\n\", p7) //p7=\u0026main.person{name:\"\", city:\"åŒ—äº¬\", age:0} 2.3.2 ä½¿ç”¨å€¼çš„åˆ—è¡¨åˆå§‹åŒ– åˆå§‹åŒ–ç»“æ„ä½“çš„æ—¶å€™å¯ä»¥ç®€å†™ï¼Œä¹Ÿå°±æ˜¯åˆå§‹åŒ–çš„æ—¶å€™ä¸å†™é”®ï¼Œç›´æ¥å†™å€¼ï¼š\np8 := \u0026person{ \"æ²™æ²³å¨œæ‰\", \"åŒ—äº¬\", 28, } fmt.Printf(\"p8=%#v\\n\", p8) //p8=\u0026main.person{name:\"æ²™æ²³å¨œæ‰\", city:\"åŒ—äº¬\", age:28} ä½¿ç”¨è¿™ç§æ ¼å¼åˆå§‹åŒ–æ—¶ï¼Œéœ€è¦æ³¨æ„ï¼š\nå¿…é¡»åˆå§‹åŒ–ç»“æ„ä½“çš„æ‰€æœ‰å­—æ®µã€‚ åˆå§‹å€¼çš„å¡«å……é¡ºåºå¿…é¡»ä¸å­—æ®µåœ¨ç»“æ„ä½“ä¸­çš„å£°æ˜é¡ºåºä¸€è‡´ã€‚ è¯¥æ–¹å¼ä¸èƒ½å’Œé”®å€¼åˆå§‹åŒ–æ–¹å¼æ··ç”¨ã€‚ 2.4 ç»“æ„ä½“å†…å­˜å¸ƒå±€ ç»“æ„ä½“å ç”¨ä¸€å—è¿ç»­çš„å†…å­˜ã€‚\ntype test struct { a int8 b int8 c int8 d int8 } n := test{ 1, 2, 3, 4, } fmt.Printf(\"n.a %p\\n\", \u0026n.a) fmt.Printf(\"n.b %p\\n\", \u0026n.b) fmt.Printf(\"n.c %p\\n\", \u0026n.c) fmt.Printf(\"n.d %p\\n\", \u0026n.d) è¾“å‡ºï¼š\nn.a 0xc0000a0060 n.b 0xc0000a0061 n.c 0xc0000a0062 n.d 0xc0000a0063 ã€è¿›é˜¶çŸ¥è¯†ç‚¹ã€‘å…³äºGoè¯­è¨€ä¸­çš„å†…å­˜å¯¹é½æ¨èé˜…è¯»:Goç»“æ„ä½“çš„å†…å­˜å¯¹é½\n2.4.1 ç©ºç»“æ„ä½“ ç©ºç»“æ„ä½“æ˜¯ä¸å ç”¨ç©ºé—´çš„ã€‚\nvar v struct{} fmt.Println(unsafe.Sizeof(v)) // 0 2.5 é¢è¯•é¢˜ è¯·é—®ä¸‹é¢ä»£ç çš„æ‰§è¡Œç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ\ntype student struct { name string age int } func main() { m := make(map[string]*student) stus := []student{ {name: \"å°ç‹å­\", age: 18}, {name: \"å¨œæ‰\", age: 23}, {name: \"å¤§ç‹å…«\", age: 9000}, } for _, stu := range stus { m[stu.name] = \u0026stu } for k, v := range m { fmt.Println(k, \"=\u003e\", v.name) } } å®é™…ä¸Šåœ¨forå¾ªç¯æ—¶ï¼Œ\u0026stu æŒ‡å‘çš„åœ°å€ä¸€ç›´ä¸å˜ï¼Œä½†æŒ‡å‘çš„å€¼ä¸€ç›´å†å˜ï¼Œforå¾ªç¯ç»“æŸåï¼Œ\u0026stuæŒ‡å‘çš„å€¼æ˜¯éå†çš„æœ€åä¸€ä¸ªå€¼ï¼Œè¿™é‡Œforå¾ªç¯ä¸­ä¸€ç›´æ˜¯å°†stuçš„åœ°å€èµ‹å€¼ç»™ m[stu.name]ï¼Œæ‰€ä»¥æœ€åæ‰€æœ‰çš„ m[stu.name] çš„å€¼éƒ½ä¸º \u0026stuæŒ‡å‘çš„å€¼ã€‚\nå¦‚æœæƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€é‡æ–°å£°æ˜ä¸€ä¸ªå±€éƒ¨å˜é‡ stu å˜é‡ï¼ŒæŠŠ for å¾ªç¯çš„ stu å˜é‡ç»™å­˜å‚¨ä¸‹æ¥ï¼Œå†èµ‹å€¼ã€‚\nfor _, stu := range stus { stu := stu m[stu.name] = \u0026stu } 2.6 æ„é€ å‡½æ•° Goè¯­è¨€çš„ç»“æ„ä½“æ²¡æœ‰æ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å®ç°ã€‚ ä¾‹å¦‚ï¼Œä¸‹æ–¹çš„ä»£ç å°±å®ç°äº†ä¸€ä¸ªpersonçš„æ„é€ å‡½æ•°ã€‚ å› ä¸ºstructæ˜¯å€¼ç±»å‹ï¼Œå¦‚æœç»“æ„ä½“æ¯”è¾ƒå¤æ‚çš„è¯ï¼Œå€¼æ‹·è´æ€§èƒ½å¼€é”€ä¼šæ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥è¯¥æ„é€ å‡½æ•°è¿”å›çš„æ˜¯ç»“æ„ä½“æŒ‡é’ˆç±»å‹ã€‚\nfunc newPerson(name, city string, age int8) *person { return \u0026person{ name: name, city: city, age: age, } } è°ƒç”¨æ„é€ å‡½æ•°\np9 := newPerson(\"å¼ ä¸‰\", \"æ²™æ²³\", 90) fmt.Printf(\"%#v\\n\", p9) //\u0026main.person{name:\"å¼ ä¸‰\", city:\"æ²™æ²³\", age:90} 2.7 æ–¹æ³•å’Œæ¥æ”¶è€… Goè¯­è¨€ä¸­çš„æ–¹æ³•ï¼ˆMethodï¼‰æ˜¯ä¸€ç§ä½œç”¨äºç‰¹å®šç±»å‹å˜é‡çš„å‡½æ•°ã€‚è¿™ç§ç‰¹å®šç±»å‹å˜é‡å«åšæ¥æ”¶è€…ï¼ˆReceiverï¼‰ã€‚æ¥æ”¶è€…çš„æ¦‚å¿µå°±ç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çš„thisæˆ–è€… selfã€‚\næ–¹æ³•çš„å®šä¹‰æ ¼å¼å¦‚ä¸‹ï¼š\nfunc (æ¥æ”¶è€…å˜é‡ æ¥æ”¶è€…ç±»å‹) æ–¹æ³•å(å‚æ•°åˆ—è¡¨) (è¿”å›å‚æ•°) { å‡½æ•°ä½“ } å…¶ä¸­ï¼Œ\næ¥æ”¶è€…å˜é‡ï¼šæ¥æ”¶è€…ä¸­çš„å‚æ•°å˜é‡ååœ¨å‘½åæ—¶ï¼Œå®˜æ–¹å»ºè®®ä½¿ç”¨æ¥æ”¶è€…ç±»å‹åç§°é¦–å­—æ¯çš„å°å†™ï¼Œè€Œä¸æ˜¯selfã€thisä¹‹ç±»çš„å‘½åã€‚ä¾‹å¦‚ï¼ŒPersonç±»å‹çš„æ¥æ”¶è€…å˜é‡åº”è¯¥å‘½åä¸º pï¼ŒConnectorç±»å‹çš„æ¥æ”¶è€…å˜é‡åº”è¯¥å‘½åä¸ºcç­‰ã€‚ æ¥æ”¶è€…ç±»å‹ï¼šæ¥æ”¶è€…ç±»å‹å’Œå‚æ•°ç±»ä¼¼ï¼Œå¯ä»¥æ˜¯æŒ‡é’ˆç±»å‹å’ŒéæŒ‡é’ˆç±»å‹ã€‚ æ–¹æ³•åã€å‚æ•°åˆ—è¡¨ã€è¿”å›å‚æ•°ï¼šå…·ä½“æ ¼å¼ä¸å‡½æ•°å®šä¹‰ç›¸åŒã€‚ ä¸¾ä¸ªä¾‹å­ï¼š\n//Person ç»“æ„ä½“ type Person struct { name string age int8 } //NewPerson æ„é€ å‡½æ•° func NewPerson(name string, age int8) *Person { return \u0026Person{ name: name, age: age, } } //Dream Personåšæ¢¦çš„æ–¹æ³• func (p Person) Dream() { fmt.Printf(\"%sçš„æ¢¦æƒ³æ˜¯å­¦å¥½Goè¯­è¨€ï¼\\n\", p.name) } func main() { p1 := NewPerson(\"å°ç‹å­\", 25) p1.Dream() } æ–¹æ³•ä¸å‡½æ•°çš„åŒºåˆ«æ˜¯ï¼Œå‡½æ•°ä¸å±äºä»»ä½•ç±»å‹ï¼Œæ–¹æ³•å±äºç‰¹å®šçš„ç±»å‹ã€‚\n2.7.1 æŒ‡é’ˆç±»å‹çš„æ¥æ”¶è€… æŒ‡é’ˆç±»å‹çš„æ¥æ”¶è€…ç”±ä¸€ä¸ªç»“æ„ä½“çš„æŒ‡é’ˆç»„æˆï¼Œç”±äºæŒ‡é’ˆçš„ç‰¹æ€§ï¼Œè°ƒç”¨æ–¹æ³•æ—¶ä¿®æ”¹æ¥æ”¶è€…æŒ‡é’ˆçš„ä»»æ„æˆå‘˜å˜é‡ï¼Œåœ¨æ–¹æ³•ç»“æŸåï¼Œä¿®æ”¹éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚è¿™ç§æ–¹å¼å°±ååˆ†æ¥è¿‘äºå…¶ä»–è¯­è¨€ä¸­é¢å‘å¯¹è±¡ä¸­çš„thisæˆ–è€…selfã€‚ ä¾‹å¦‚æˆ‘ä»¬ä¸ºPersonæ·»åŠ ä¸€ä¸ªSetAgeæ–¹æ³•ï¼Œæ¥ä¿®æ”¹å®ä¾‹å˜é‡çš„å¹´é¾„ã€‚\n// SetAge è®¾ç½®pçš„å¹´é¾„ // ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶è€… func (p *Person) SetAge(newAge int8) { p.age = newAge } è°ƒç”¨è¯¥æ–¹æ³•ï¼š\nfunc main() { p1 := NewPerson(\"å°ç‹å­\", 25) fmt.Println(p1.age) // 25 p1.SetAge(30) fmt.Println(p1.age) // 30 } 2.7.2 å€¼ç±»å‹çš„æ¥æ”¶è€… å½“æ–¹æ³•ä½œç”¨äºå€¼ç±»å‹æ¥æ”¶è€…æ—¶ï¼ŒGoè¯­è¨€ä¼šåœ¨ä»£ç è¿è¡Œæ—¶å°†æ¥æ”¶è€…çš„å€¼å¤åˆ¶ä¸€ä»½ã€‚åœ¨å€¼ç±»å‹æ¥æ”¶è€…çš„æ–¹æ³•ä¸­å¯ä»¥è·å–æ¥æ”¶è€…çš„æˆå‘˜å€¼ï¼Œä½†ä¿®æ”¹æ“ä½œåªæ˜¯é’ˆå¯¹å‰¯æœ¬ï¼Œæ— æ³•ä¿®æ”¹æ¥æ”¶è€…å˜é‡æœ¬èº«ã€‚\n// SetAge2 è®¾ç½®pçš„å¹´é¾„ // ä½¿ç”¨å€¼æ¥æ”¶è€… func (p Person) SetAge2(newAge int8) { p.age = newAge } func main() { p1 := NewPerson(\"å°ç‹å­\", 25) p1.Dream() fmt.Println(p1.age) // 25 p1.SetAge2(30) // (*p1).SetAge2(30) fmt.Println(p1.age) // 25 } 2.7.3 ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨æŒ‡é’ˆç±»å‹æ¥æ”¶è€… éœ€è¦ä¿®æ”¹æ¥æ”¶è€…ä¸­çš„å€¼ æ¥æ”¶è€…æ˜¯æ‹·è´ä»£ä»·æ¯”è¾ƒå¤§çš„å¤§å¯¹è±¡ ä¿è¯ä¸€è‡´æ€§ï¼Œå¦‚æœæœ‰æŸä¸ªæ–¹æ³•ä½¿ç”¨äº†æŒ‡é’ˆæ¥æ”¶è€…ï¼Œé‚£ä¹ˆå…¶ä»–çš„æ–¹æ³•ä¹Ÿåº”è¯¥ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶è€…ã€‚ 2.8 ä»»æ„ç±»å‹æ·»åŠ æ–¹æ³• åœ¨Goè¯­è¨€ä¸­ï¼Œæ¥æ”¶è€…çš„ç±»å‹å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œä¸ä»…ä»…æ˜¯ç»“æ„ä½“ï¼Œä»»ä½•ç±»å‹éƒ½å¯ä»¥æ‹¥æœ‰æ–¹æ³•ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åŸºäºå†…ç½®çš„intç±»å‹ä½¿ç”¨typeå…³é”®å­—å¯ä»¥å®šä¹‰æ–°çš„è‡ªå®šä¹‰ç±»å‹ï¼Œç„¶åä¸ºæˆ‘ä»¬çš„è‡ªå®šä¹‰ç±»å‹æ·»åŠ æ–¹æ³•ã€‚\n//MyInt å°†intå®šä¹‰ä¸ºè‡ªå®šä¹‰MyIntç±»å‹ type MyInt int //SayHello ä¸ºMyIntæ·»åŠ ä¸€ä¸ªSayHelloçš„æ–¹æ³• func (m MyInt) SayHello() { fmt.Println(\"Hello, æˆ‘æ˜¯ä¸€ä¸ªintã€‚\") } func main() { var m1 MyInt m1.SayHello() //Hello, æˆ‘æ˜¯ä¸€ä¸ªintã€‚ m1 = 100 fmt.Printf(\"%#v %T\\n\", m1, m1) //100 main.MyInt } æ³¨æ„äº‹é¡¹ï¼š éæœ¬åœ°ç±»å‹ä¸èƒ½å®šä¹‰æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¸èƒ½ç»™åˆ«çš„åŒ…çš„ç±»å‹å®šä¹‰æ–¹æ³•ã€‚\n2.9 ç»“æ„ä½“çš„åŒ¿åå­—æ®µ ç»“æ„ä½“å…è®¸å…¶æˆå‘˜å­—æ®µåœ¨å£°æ˜æ—¶æ²¡æœ‰å­—æ®µåè€Œåªæœ‰ç±»å‹ï¼Œè¿™ç§æ²¡æœ‰åå­—çš„å­—æ®µå°±ç§°ä¸ºåŒ¿åå­—æ®µã€‚\n//Person ç»“æ„ä½“Personç±»å‹ type Person struct { string int } func main() { p1 := Person{ \"å°ç‹å­\", 18, } fmt.Printf(\"%#v\\n\", p1) //main.Person{string:\"åŒ—äº¬\", int:18} fmt.Println(p1.string, p1.int) //åŒ—äº¬ 18 } **æ³¨æ„ï¼š**è¿™é‡ŒåŒ¿åå­—æ®µçš„è¯´æ³•å¹¶ä¸ä»£è¡¨æ²¡æœ‰å­—æ®µåï¼Œè€Œæ˜¯é»˜è®¤ä¼šé‡‡ç”¨ç±»å‹åä½œä¸ºå­—æ®µåï¼Œç»“æ„ä½“è¦æ±‚å­—æ®µåç§°å¿…é¡»å”¯ä¸€ï¼Œå› æ­¤ä¸€ä¸ªç»“æ„ä½“ä¸­åŒç§ç±»å‹çš„åŒ¿åå­—æ®µåªèƒ½æœ‰ä¸€ä¸ªã€‚\n2.10 åµŒå¥—ç»“æ„ä½“ ä¸€ä¸ªç»“æ„ä½“ä¸­å¯ä»¥åµŒå¥—åŒ…å«å¦ä¸€ä¸ªç»“æ„ä½“æˆ–ç»“æ„ä½“æŒ‡é’ˆï¼Œå°±åƒä¸‹é¢çš„ç¤ºä¾‹ä»£ç é‚£æ ·ã€‚\n//Address åœ°å€ç»“æ„ä½“ type Address struct { Province string City string } //User ç”¨æˆ·ç»“æ„ä½“ type User struct { Name string Gender string Address Address } func main() { user1 := User{ Name: \"å°ç‹å­\", Gender: \"ç”·\", Address: Address{ Province: \"å±±ä¸œ\", City: \"å¨æµ·\", }, } fmt.Printf(\"user1=%#v\\n\", user1)//user1=main.User{Name:\"å°ç‹å­\", Gender:\"ç”·\", Address:main.Address{Province:\"å±±ä¸œ\", City:\"å¨æµ·\"}} } 2.10.1 åµŒå¥—åŒ¿åå­—æ®µ ä¸Šé¢userç»“æ„ä½“ä¸­åµŒå¥—çš„Addressç»“æ„ä½“ä¹Ÿå¯ä»¥é‡‡ç”¨åŒ¿åå­—æ®µçš„æ–¹å¼ï¼Œä¾‹å¦‚ï¼š\n//Address åœ°å€ç»“æ„ä½“ type Address struct { Province string City string } //User ç”¨æˆ·ç»“æ„ä½“ type User struct { Name string Gender string Address //åŒ¿åå­—æ®µ } func main() { var user2 User user2.Name = \"å°ç‹å­\" user2.Gender = \"ç”·\" user2.Address.Province = \"å±±ä¸œ\" // åŒ¿åå­—æ®µé»˜è®¤ä½¿ç”¨ç±»å‹åä½œä¸ºå­—æ®µå user2.City = \"å¨æµ·\" // åŒ¿åå­—æ®µå¯ä»¥çœç•¥ fmt.Printf(\"user2=%#v\\n\", user2) //user2=main.User{Name:\"å°ç‹å­\", Gender:\"ç”·\", Address:main.Address{Province:\"å±±ä¸œ\", City:\"å¨æµ·\"}} } å½“è®¿é—®ç»“æ„ä½“æˆå‘˜æ—¶ä¼šå…ˆåœ¨ç»“æ„ä½“ä¸­æŸ¥æ‰¾è¯¥å­—æ®µï¼Œæ‰¾ä¸åˆ°å†å»åµŒå¥—çš„åŒ¿åå­—æ®µä¸­æŸ¥æ‰¾ã€‚\n2.10.2 åµŒå¥—ç»“æ„ä½“çš„å­—æ®µåå†²çª åµŒå¥—ç»“æ„ä½“å†…éƒ¨å¯èƒ½å­˜åœ¨ç›¸åŒçš„å­—æ®µåã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ä¸ºäº†é¿å…æ­§ä¹‰éœ€è¦é€šè¿‡æŒ‡å®šå…·ä½“çš„å†…åµŒç»“æ„ä½“å­—æ®µåã€‚\n//Address åœ°å€ç»“æ„ä½“ type Address struct { Province string City string CreateTime string } //Email é‚®ç®±ç»“æ„ä½“ type Email struct { Account string CreateTime string } //User ç”¨æˆ·ç»“æ„ä½“ type User struct { Name string Gender string Address Email } func main() { var user3 User user3.Name = \"æ²™æ²³å¨œæ‰\" user3.Gender = \"ç”·\" // user3.CreateTime = \"2019\" //ambiguous selector user3.CreateTime user3.Address.CreateTime = \"2000\" //æŒ‡å®šAddressç»“æ„ä½“ä¸­çš„CreateTime user3.Email.CreateTime = \"2000\" //æŒ‡å®šEmailç»“æ„ä½“ä¸­çš„CreateTime } 2.11 ç»“æ„ä½“çš„â€œç»§æ‰¿â€ Goè¯­è¨€ä¸­ä½¿ç”¨ç»“æ„ä½“ä¹Ÿå¯ä»¥å®ç°å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­é¢å‘å¯¹è±¡çš„ç»§æ‰¿ã€‚\n//Animal åŠ¨ç‰© type Animal struct { name string } func (a *Animal) move() { fmt.Printf(\"%sä¼šåŠ¨ï¼\\n\", a.name) } //Dog ç‹— type Dog struct { Feet int8 *Animal //é€šè¿‡åµŒå¥—åŒ¿åç»“æ„ä½“å®ç°ç»§æ‰¿ } func (d *Dog) wang() { fmt.Printf(\"%sä¼šæ±ªæ±ªæ±ª~\\n\", d.name) } func main() { d1 := \u0026Dog{ Feet: 4, Animal: \u0026Animal{ //æ³¨æ„åµŒå¥—çš„æ˜¯ç»“æ„ä½“æŒ‡é’ˆ name: \"ä¹ä¹\", }, } d1.wang() //ä¹ä¹ä¼šæ±ªæ±ªæ±ª~ d1.move() //ä¹ä¹ä¼šåŠ¨ï¼ } 2.12 ç»“æ„ä½“å­—æ®µçš„å¯è§æ€§ ç»“æ„ä½“ä¸­å­—æ®µå¤§å†™å¼€å¤´è¡¨ç¤ºå¯å…¬å¼€è®¿é—®ï¼Œå°å†™è¡¨ç¤ºç§æœ‰ï¼ˆä»…åœ¨å®šä¹‰å½“å‰ç»“æ„ä½“çš„åŒ…ä¸­å¯è®¿é—®ï¼‰ã€‚\n2.13 ç»“æ„ä½“ä¸JSONåºåˆ—åŒ– JSON(JavaScript Object Notation) æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚æ˜“äºäººé˜…è¯»å’Œç¼–å†™ã€‚åŒæ—¶ä¹Ÿæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆã€‚JSONé”®å€¼å¯¹æ˜¯ç”¨æ¥ä¿å­˜JSå¯¹è±¡çš„ä¸€ç§æ–¹å¼ï¼Œé”®/å€¼å¯¹ç»„åˆä¸­çš„é”®åå†™åœ¨å‰é¢å¹¶ç”¨åŒå¼•å·\"\"åŒ…è£¹ï¼Œä½¿ç”¨å†’å·:åˆ†éš”ï¼Œç„¶åç´§æ¥ç€å€¼ï¼›å¤šä¸ªé”®å€¼ä¹‹é—´ä½¿ç”¨è‹±æ–‡,åˆ†éš”ã€‚\n//Student å­¦ç”Ÿ type Student struct { ID int Gender string Name string } //Class ç­çº§ type Class struct { Title string Students []*Student } func main() { c := \u0026Class{ Title: \"101\", Students: make([]*Student, 0, 200), } for i := 0; i \u003c 10; i++ { stu := \u0026Student{ Name: fmt.Sprintf(\"stu%02d\", i), Gender: \"ç”·\", ID: i, } c.Students = append(c.Students, stu) } //JSONåºåˆ—åŒ–ï¼šç»“æ„ä½“--\u003eJSONæ ¼å¼çš„å­—ç¬¦ä¸² data, err := json.Marshal(c) if err != nil { fmt.Println(\"json marshal failed\") return } fmt.Printf(\"json:%s\\n\", data) //JSONååºåˆ—åŒ–ï¼šJSONæ ¼å¼çš„å­—ç¬¦ä¸²--\u003eç»“æ„ä½“ str := `{\"Title\":\"101\",\"Students\":[{\"ID\":0,\"Gender\":\"ç”·\",\"Name\":\"stu00\"},{\"ID\":1,\"Gender\":\"ç”·\",\"Name\":\"stu01\"},{\"ID\":2,\"Gender\":\"ç”·\",\"Name\":\"stu02\"},{\"ID\":3,\"Gender\":\"ç”·\",\"Name\":\"stu03\"},{\"ID\":4,\"Gender\":\"ç”·\",\"Name\":\"stu04\"},{\"ID\":5,\"Gender\":\"ç”·\",\"Name\":\"stu05\"},{\"ID\":6,\"Gender\":\"ç”·\",\"Name\":\"stu06\"},{\"ID\":7,\"Gender\":\"ç”·\",\"Name\":\"stu07\"},{\"ID\":8,\"Gender\":\"ç”·\",\"Name\":\"stu08\"},{\"ID\":9,\"Gender\":\"ç”·\",\"Name\":\"stu09\"}]}` c1 := \u0026Class{} err = json.Unmarshal([]byte(str), c1) if err != nil { fmt.Println(\"json unmarshal failed!\") return } fmt.Printf(\"%#v\\n\", c1) } 2.14 ç»“æ„ä½“æ ‡ç­¾ï¼ˆTagï¼‰ Tagæ˜¯ç»“æ„ä½“çš„å…ƒä¿¡æ¯ï¼Œå¯ä»¥åœ¨è¿è¡Œçš„æ—¶å€™é€šè¿‡åå°„çš„æœºåˆ¶è¯»å–å‡ºæ¥ã€‚ Tagåœ¨ç»“æ„ä½“å­—æ®µçš„åæ–¹å®šä¹‰ï¼Œç”±ä¸€å¯¹åå¼•å·åŒ…è£¹èµ·æ¥ï¼Œå…·ä½“çš„æ ¼å¼å¦‚ä¸‹ï¼š\n`key1:\"value1\" key2:\"value2\"` ç»“æ„ä½“tagç”±ä¸€ä¸ªæˆ–å¤šä¸ªé”®å€¼å¯¹ç»„æˆã€‚é”®ä¸å€¼ä½¿ç”¨å†’å·åˆ†éš”ï¼Œå€¼ç”¨åŒå¼•å·æ‹¬èµ·æ¥ã€‚åŒä¸€ä¸ªç»“æ„ä½“å­—æ®µå¯ä»¥è®¾ç½®å¤šä¸ªé”®å€¼å¯¹tagï¼Œä¸åŒçš„é”®å€¼å¯¹ä¹‹é—´ä½¿ç”¨ç©ºæ ¼åˆ†éš”ã€‚\næ³¨æ„äº‹é¡¹ï¼š ä¸ºç»“æ„ä½“ç¼–å†™Tagæ—¶ï¼Œå¿…é¡»ä¸¥æ ¼éµå®ˆé”®å€¼å¯¹çš„è§„åˆ™ã€‚ç»“æ„ä½“æ ‡ç­¾çš„è§£æä»£ç çš„å®¹é”™èƒ½åŠ›å¾ˆå·®ï¼Œä¸€æ—¦æ ¼å¼å†™é”™ï¼Œç¼–è¯‘å’Œè¿è¡Œæ—¶éƒ½ä¸ä¼šæç¤ºä»»ä½•é”™è¯¯ï¼Œé€šè¿‡åå°„ä¹Ÿæ— æ³•æ­£ç¡®å–å€¼ã€‚ä¾‹å¦‚ä¸è¦åœ¨keyå’Œvalueä¹‹é—´æ·»åŠ ç©ºæ ¼ã€‚\nä¾‹å¦‚æˆ‘ä»¬ä¸ºStudentç»“æ„ä½“çš„æ¯ä¸ªå­—æ®µå®šä¹‰jsonåºåˆ—åŒ–æ—¶ä½¿ç”¨çš„Tagï¼š\n//Student å­¦ç”Ÿ type Student struct { ID int `json:\"id\"` //é€šè¿‡æŒ‡å®štagå®ç°jsonåºåˆ—åŒ–è¯¥å­—æ®µæ—¶çš„key Gender string //jsonåºåˆ—åŒ–æ˜¯é»˜è®¤ä½¿ç”¨å­—æ®µåä½œä¸ºkey name string //ç§æœ‰ä¸èƒ½è¢«jsonåŒ…è®¿é—® } func main() { s1 := Student{ ID: 1, Gender: \"ç”·\", name: \"æ²™æ²³å¨œæ‰\", } data, err := json.Marshal(s1) if err != nil { fmt.Println(\"json marshal failed!\") return } fmt.Printf(\"json str:%s\\n\", data) //json str:{\"id\":1,\"Gender\":\"ç”·\"} } 2.15 ç»“æ„ä½“å’Œæ–¹æ³•è¡¥å……çŸ¥è¯†ç‚¹ å› ä¸ºsliceå’Œmapè¿™ä¸¤ç§æ•°æ®ç±»å‹éƒ½åŒ…å«äº†æŒ‡å‘åº•å±‚æ•°æ®çš„æŒ‡é’ˆï¼Œå› æ­¤æˆ‘ä»¬åœ¨éœ€è¦å¤åˆ¶å®ƒä»¬æ—¶è¦ç‰¹åˆ«æ³¨æ„ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š\ntype Person struct { name string age int8 dreams []string } func (p *Person) SetDreams(dreams []string) { p.dreams = dreams } func main() { p1 := Person{name: \"å°ç‹å­\", age: 18} data := []string{\"åƒé¥­\", \"ç¡è§‰\", \"æ‰“è±†è±†\"} p1.SetDreams(data) // ä½ çœŸçš„æƒ³è¦ä¿®æ”¹ p1.dreams å—ï¼Ÿ data[1] = \"ä¸ç¡è§‰\" fmt.Println(p1.dreams) // ? } æ­£ç¡®çš„åšæ³•æ˜¯åœ¨æ–¹æ³•ä¸­ä½¿ç”¨ä¼ å…¥çš„sliceçš„æ‹·è´è¿›è¡Œç»“æ„ä½“èµ‹å€¼ã€‚\nfunc (p *Person) SetDreams(dreams []string) { p.dreams = make([]string, len(dreams)) copy(p.dreams, dreams) } åŒæ ·çš„é—®é¢˜ä¹Ÿå­˜åœ¨äºè¿”å›å€¼sliceå’Œmapçš„æƒ…å†µï¼Œåœ¨å®é™…ç¼–ç è¿‡ç¨‹ä¸­ä¸€å®šè¦æ³¨æ„è¿™ä¸ªé—®é¢˜ã€‚\n3. ç»ƒä¹ é¢˜ ä½¿ç”¨â€œé¢å‘å¯¹è±¡â€çš„æ€ç»´æ–¹å¼ç¼–å†™ä¸€ä¸ªå­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿã€‚ å­¦ç”Ÿæœ‰idã€å§“åã€å¹´é¾„ã€åˆ†æ•°ç­‰ä¿¡æ¯ ç¨‹åºæä¾›å±•ç¤ºå­¦ç”Ÿåˆ—è¡¨ã€æ·»åŠ å­¦ç”Ÿã€ç¼–è¾‘å­¦ç”Ÿä¿¡æ¯ã€åˆ é™¤å­¦ç”Ÿç­‰åŠŸèƒ½ main.go\nfunc showMenu() { fmt.Println(\"æ¬¢è¿æ¥åˆ°å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ\") fmt.Println(\"1. æ·»åŠ å­¦ç”Ÿ\") fmt.Println(\"2. ç¼–è¾‘å­¦ç”Ÿä¿¡æ¯\") fmt.Println(\"3. å±•ç¤ºæ‰€æœ‰å­¦ç”Ÿä¿¡æ¯\") fmt.Println(\"4. åˆ é™¤å­¦ç”Ÿä¿¡æ¯\") fmt.Println(\"5. é€€å‡ºç³»ç»Ÿ\") } // è·å–ç”¨æˆ·è¾“å…¥çš„å­¦ç”Ÿä¿¡æ¯ func getInput() *student { var ( id int name string age int grade int ) fmt.Println(\"è¯·æŒ‰è¦æ±‚è¾“å…¥å­¦ç”Ÿçš„ä¿¡æ¯\") fmt.Print(\"è¯·è¾“å…¥å­¦ç”Ÿçš„å­¦å·ï¼š\") fmt.Scanf(\"%d\\n\", \u0026id) fmt.Print(\"è¯·è¾“å…¥å­¦ç”Ÿçš„å§“åï¼š\") fmt.Scanf(\"%s\\n\", \u0026name) fmt.Print(\"è¯·è¾“å…¥å­¦ç”Ÿçš„å¹´é¾„ï¼š\") fmt.Scanf(\"%d\\n\", \u0026age) fmt.Print(\"è¯·è¾“å…¥å­¦ç”Ÿçš„åˆ†æ•°ï¼š\") fmt.Scanf(\"%d\\n\", \u0026grade) //æ„é€ ä¸€ä¸ªå­¦ç”Ÿå¯¹è±¡ stu := newStudent(id, name, age, grade) return stu } func main() { stuMS := newStuMS() for { //1.æ‰“å°ç³»ç»Ÿèœå• showMenu() //2.ç­‰å¾…ç”¨æˆ·è¾“å…¥é€‰é¡¹ var input int fmt.Println(\"è¯·è¾“å…¥ä½ è¦æ“ä½œçš„åºå·ï¼š\") fmt.Scanf(\"%d\\n\", \u0026input) //3.æ‰§è¡Œç”¨æˆ·è¾“å…¥çš„æ“ä½œ switch input { case 1: // æ·»åŠ å­¦ç”Ÿ stu := getInput() stuMS.addStudent(stu) case 2: // ç¼–è¾‘å­¦ç”Ÿä¿¡æ¯ stu := getInput() stuMS.editStudent(stu) case 3: // å±•ç¤ºæ‰€æœ‰å­¦ç”Ÿä¿¡æ¯ stuMS.showStudent() case 4: // åˆ é™¤å­¦ç”Ÿä¿¡æ¯ stu := getInput() stuMS.delStudent(stu) case 5: os.Exit(0) } } } student.go\n//ä½¿ç”¨â€œé¢å‘å¯¹è±¡â€çš„æ€ç»´æ–¹å¼ç¼–å†™ä¸€ä¸ªå­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿã€‚ //å­¦ç”Ÿæœ‰idã€å§“åã€å¹´é¾„ã€åˆ†æ•°ç­‰ä¿¡æ¯ //ç¨‹åºæä¾›å±•ç¤ºå­¦ç”Ÿåˆ—è¡¨ã€æ·»åŠ å­¦ç”Ÿã€ç¼–è¾‘å­¦ç”Ÿä¿¡æ¯ã€åˆ é™¤å­¦ç”Ÿç­‰åŠŸèƒ½ // å­¦ç”Ÿç±»ï¼Œæœ‰idã€å§“åã€å¹´é¾„ã€åˆ†æ•° type student struct { id int name string age int grade int } // å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ type StuMS struct { StuList []*student } // Student ç±» çš„æ„é€ å‡½æ•° func newStudent(id int, name string, age int, grade int) *student { return \u0026student{ id: id, name: name, age: age, grade: grade, } } // å­¦ç”Ÿç®¡ç†ç³»ç»Ÿçš„æ„é€ å‡½æ•° func newStuMS() *StuMS { return \u0026StuMS{ StuList: make([]*student, 0, 100), } } // æ·»åŠ å­¦ç”Ÿ func (s *StuMS) addStudent(newStu *student) { s.StuList = append(s.StuList, newStu) } // ç¼–è¾‘å­¦ç”Ÿä¿¡æ¯ func (s *StuMS) editStudent(newStu *student) { for i, v := range s.StuList { if v.id == newStu.id { s.StuList[i] = newStu return } } fmt.Printf(\"è¾“å…¥ä¿¡æ¯æœ‰è¯¯ï¼Œç³»ç»Ÿä¸­æ²¡æœ‰å­¦å·ä¸º %d çš„å­¦ç”Ÿ\\n\", newStu.id) } // å±•ç¤ºå­¦ç”Ÿåˆ—è¡¨ func (s *StuMS) showStudent() { for _, v := range s.StuList { fmt.Printf(\"å­¦å·ï¼š%d å§“åï¼š%s å¹´é¾„ï¼š%d åˆ†æ•°:%d\\n\", v.id, v.name, v.age, v.grade) } } // åˆ é™¤å­¦ç”Ÿ // a = append(a[:index], a[index+1:]...) func (s *StuMS) delStudent(newStu *student) { for i, v := range s.StuList { if v.id == newStu.id { s.StuList = append(s.StuList[:i], s.StuList[i+1:]...) return } } fmt.Printf(\"è¾“å…¥ä¿¡æ¯æœ‰è¯¯ï¼Œç³»ç»Ÿä¸­æ²¡æœ‰å­¦å·ä¸º %d çš„å­¦ç”Ÿ\\n\", newStu.id) } ",
  "wordCount" : "8439",
  "inLanguage": "en",
  "datePublished": "2022-12-23T22:56:56+08:00",
  "dateModified": "2022-12-23T22:56:56+08:00",
  "author":[{
    "@type": "Person",
    "name": "N3bu74"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://N3bu74.github.io/posts/tech/golang_struct/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "N3bu74's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://N3bu74.github.io/img/N3bu74.png"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>



<script async src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>


<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://N3bu74.github.io" accesskey="h" title="N3bu74&#39;s Blog (Alt + H)">
            <img src="https://N3bu74.github.io/img/Q.gif" alt="logo" aria-label="logo"
                 height="35">N3bu74&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://N3bu74.github.io/search" title="ğŸ” æœç´¢ (Alt &#43; /)" accesskey=/>
                <span>ğŸ” æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="https://N3bu74.github.io/posts" title="ğŸ“š æ–‡ç« ">
                <span>ğŸ“š æ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://N3bu74.github.io/categories/" title="ğŸ“¦ åˆ†ç±»">
                <span>ğŸ“¦ åˆ†ç±»</span>
                </a>
            </li>
            <li>
                <a href="https://N3bu74.github.io/tags" title="ğŸ§© æ ‡ç­¾">
                <span>ğŸ§© æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://N3bu74.github.io/archives/" title="â±ï¸ æ—¶é—´è½´">
                <span>â±ï¸ æ—¶é—´è½´</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main page">
<article class="post-single">
    <div id="single-content">
        <header class="post-header">
            <div class="breadcrumbs"><a href="https://N3bu74.github.io">ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="https://N3bu74.github.io/posts/">ğŸ“šæ–‡ç« </a>&nbsp;Â»&nbsp;<a href="https://N3bu74.github.io/posts/tech/">ğŸ‘¨ğŸ»â€ğŸ’» æŠ€æœ¯</a></div>
            <h1 class="post-title">
                Golang ç»“æ„ä½“
            </h1>
            <div class="post-description">
                GolangåŸºç¡€åä¹‹ ç»“æ„ä½“
            </div>
            <div class="post-meta">ğŸ“…&nbsp;<span title='2022-12-23 22:56:56 +0800 CST'>2022-12-23</span>&nbsp; &nbsp;â°&nbsp;2022-12-23&nbsp; &nbsp;ğŸ“ƒ:&nbsp;8439å­—&nbsp; &nbsp;â³&nbsp;17åˆ†é’Ÿ&nbsp; &nbsp;
ğŸ™â€â™‚ï¸&nbsp;N3bu74



                &nbsp; &nbsp; ğŸ§© &nbsp;
                <ul class="post-tags-meta">
                    <a href="https://N3bu74.github.io/tags/golang/">Golang</a>
                </ul>

                
                <span id="busuanzi_container_page_pv">
                &nbsp; ğŸ‘â€ğŸ—¨ <span id="busuanzi_value_page_pv"></span>
            </span>

</div>
        </header> 
        <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">æ–‡ç« ç›®å½•</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#1-%e7%b1%bb%e5%9e%8b%e5%88%ab%e5%90%8d%e5%92%8c%e8%87%aa%e5%ae%9a%e4%b9%89%e7%b1%bb%e5%9e%8b" aria-label="1. ç±»å‹åˆ«åå’Œè‡ªå®šä¹‰ç±»å‹">1. ç±»å‹åˆ«åå’Œè‡ªå®šä¹‰ç±»å‹</a><ul>
                        
                <li>
                    <a href="#11-%e8%87%aa%e5%ae%9a%e4%b9%89%e7%b1%bb%e5%9e%8b" aria-label="1.1 è‡ªå®šä¹‰ç±»å‹">1.1 è‡ªå®šä¹‰ç±»å‹</a></li>
                <li>
                    <a href="#12-%e7%b1%bb%e5%9e%8b%e5%88%ab%e5%90%8d" aria-label="1.2 ç±»å‹åˆ«å">1.2 ç±»å‹åˆ«å</a></li>
                <li>
                    <a href="#13-%e7%b1%bb%e5%9e%8b%e5%ae%9a%e4%b9%89%e5%92%8c%e7%b1%bb%e5%9e%8b%e5%88%ab%e5%90%8d%e7%9a%84%e5%8c%ba%e5%88%ab" aria-label="1.3 ç±»å‹å®šä¹‰å’Œç±»å‹åˆ«åçš„åŒºåˆ«">1.3 ç±»å‹å®šä¹‰å’Œç±»å‹åˆ«åçš„åŒºåˆ«</a></li></ul>
                </li>
                <li>
                    <a href="#2%e7%bb%93%e6%9e%84%e4%bd%93" aria-label="2.ç»“æ„ä½“">2.ç»“æ„ä½“</a><ul>
                        
                <li>
                    <a href="#21-%e7%bb%93%e6%9e%84%e4%bd%93%e7%9a%84%e5%ae%9a%e4%b9%89" aria-label="2.1 ç»“æ„ä½“çš„å®šä¹‰">2.1 ç»“æ„ä½“çš„å®šä¹‰</a></li>
                <li>
                    <a href="#22-%e7%bb%93%e6%9e%84%e4%bd%93%e5%ae%9e%e4%be%8b%e5%8c%96" aria-label="2.2 ç»“æ„ä½“å®ä¾‹åŒ–">2.2 ç»“æ„ä½“å®ä¾‹åŒ–</a><ul>
                        
                <li>
                    <a href="#221-%e5%9f%ba%e6%9c%ac%e5%ae%9e%e4%be%8b%e5%8c%96" aria-label="2.2.1 åŸºæœ¬å®ä¾‹åŒ–">2.2.1 åŸºæœ¬å®ä¾‹åŒ–</a></li>
                <li>
                    <a href="#222-%e5%8c%bf%e5%90%8d%e7%bb%93%e6%9e%84%e4%bd%93" aria-label="2.2.2 åŒ¿åç»“æ„ä½“">2.2.2 åŒ¿åç»“æ„ä½“</a></li>
                <li>
                    <a href="#223-%e5%88%9b%e5%bb%ba%e6%8c%87%e9%92%88%e7%b1%bb%e5%9e%8b%e7%bb%93%e6%9e%84%e4%bd%93" aria-label="2.2.3 åˆ›å»ºæŒ‡é’ˆç±»å‹ç»“æ„ä½“">2.2.3 åˆ›å»ºæŒ‡é’ˆç±»å‹ç»“æ„ä½“</a></li>
                <li>
                    <a href="#224-%e5%8f%96%e7%bb%93%e6%9e%84%e4%bd%93%e7%9a%84%e5%9c%b0%e5%9d%80%e5%ae%9e%e4%be%8b%e5%8c%96" aria-label="2.2.4 å–ç»“æ„ä½“çš„åœ°å€å®ä¾‹åŒ–">2.2.4 å–ç»“æ„ä½“çš„åœ°å€å®ä¾‹åŒ–</a></li></ul>
                </li>
                <li>
                    <a href="#23-%e7%bb%93%e6%9e%84%e4%bd%93%e5%88%9d%e5%a7%8b%e5%8c%96" aria-label="2.3 ç»“æ„ä½“åˆå§‹åŒ–">2.3 ç»“æ„ä½“åˆå§‹åŒ–</a><ul>
                        
                <li>
                    <a href="#231-%e4%bd%bf%e7%94%a8%e9%94%ae%e5%80%bc%e5%af%b9%e5%88%9d%e5%a7%8b%e5%8c%96" aria-label="2.3.1 ä½¿ç”¨é”®å€¼å¯¹åˆå§‹åŒ–">2.3.1 ä½¿ç”¨é”®å€¼å¯¹åˆå§‹åŒ–</a></li>
                <li>
                    <a href="#232-%e4%bd%bf%e7%94%a8%e5%80%bc%e7%9a%84%e5%88%97%e8%a1%a8%e5%88%9d%e5%a7%8b%e5%8c%96" aria-label="2.3.2 ä½¿ç”¨å€¼çš„åˆ—è¡¨åˆå§‹åŒ–">2.3.2 ä½¿ç”¨å€¼çš„åˆ—è¡¨åˆå§‹åŒ–</a></li></ul>
                </li>
                <li>
                    <a href="#24-%e7%bb%93%e6%9e%84%e4%bd%93%e5%86%85%e5%ad%98%e5%b8%83%e5%b1%80" aria-label="2.4 ç»“æ„ä½“å†…å­˜å¸ƒå±€">2.4 ç»“æ„ä½“å†…å­˜å¸ƒå±€</a><ul>
                        
                <li>
                    <a href="#241-%e7%a9%ba%e7%bb%93%e6%9e%84%e4%bd%93" aria-label="2.4.1 ç©ºç»“æ„ä½“">2.4.1 ç©ºç»“æ„ä½“</a></li></ul>
                </li>
                <li>
                    <a href="#25-%e9%9d%a2%e8%af%95%e9%a2%98" aria-label="2.5 é¢è¯•é¢˜">2.5 é¢è¯•é¢˜</a></li>
                <li>
                    <a href="#26-%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0" aria-label="2.6 æ„é€ å‡½æ•°">2.6 æ„é€ å‡½æ•°</a></li>
                <li>
                    <a href="#27-%e6%96%b9%e6%b3%95%e5%92%8c%e6%8e%a5%e6%94%b6%e8%80%85" aria-label="2.7 æ–¹æ³•å’Œæ¥æ”¶è€…">2.7 æ–¹æ³•å’Œæ¥æ”¶è€…</a><ul>
                        
                <li>
                    <a href="#271-%e6%8c%87%e9%92%88%e7%b1%bb%e5%9e%8b%e7%9a%84%e6%8e%a5%e6%94%b6%e8%80%85" aria-label="2.7.1 æŒ‡é’ˆç±»å‹çš„æ¥æ”¶è€…">2.7.1 æŒ‡é’ˆç±»å‹çš„æ¥æ”¶è€…</a></li>
                <li>
                    <a href="#272-%e5%80%bc%e7%b1%bb%e5%9e%8b%e7%9a%84%e6%8e%a5%e6%94%b6%e8%80%85" aria-label="2.7.2 å€¼ç±»å‹çš„æ¥æ”¶è€…">2.7.2 å€¼ç±»å‹çš„æ¥æ”¶è€…</a></li>
                <li>
                    <a href="#273-%e4%bb%80%e4%b9%88%e6%97%b6%e5%80%99%e5%ba%94%e8%af%a5%e4%bd%bf%e7%94%a8%e6%8c%87%e9%92%88%e7%b1%bb%e5%9e%8b%e6%8e%a5%e6%94%b6%e8%80%85" aria-label="2.7.3 ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨æŒ‡é’ˆç±»å‹æ¥æ”¶è€…">2.7.3 ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨æŒ‡é’ˆç±»å‹æ¥æ”¶è€…</a></li></ul>
                </li>
                <li>
                    <a href="#28-%e4%bb%bb%e6%84%8f%e7%b1%bb%e5%9e%8b%e6%b7%bb%e5%8a%a0%e6%96%b9%e6%b3%95" aria-label="2.8 ä»»æ„ç±»å‹æ·»åŠ æ–¹æ³•">2.8 ä»»æ„ç±»å‹æ·»åŠ æ–¹æ³•</a></li>
                <li>
                    <a href="#29-%e7%bb%93%e6%9e%84%e4%bd%93%e7%9a%84%e5%8c%bf%e5%90%8d%e5%ad%97%e6%ae%b5" aria-label="2.9 ç»“æ„ä½“çš„åŒ¿åå­—æ®µ">2.9 ç»“æ„ä½“çš„åŒ¿åå­—æ®µ</a></li>
                <li>
                    <a href="#210-%e5%b5%8c%e5%a5%97%e7%bb%93%e6%9e%84%e4%bd%93" aria-label="2.10 åµŒå¥—ç»“æ„ä½“">2.10 åµŒå¥—ç»“æ„ä½“</a><ul>
                        
                <li>
                    <a href="#2101-%e5%b5%8c%e5%a5%97%e5%8c%bf%e5%90%8d%e5%ad%97%e6%ae%b5" aria-label="2.10.1 åµŒå¥—åŒ¿åå­—æ®µ">2.10.1 åµŒå¥—åŒ¿åå­—æ®µ</a></li>
                <li>
                    <a href="#2102-%e5%b5%8c%e5%a5%97%e7%bb%93%e6%9e%84%e4%bd%93%e7%9a%84%e5%ad%97%e6%ae%b5%e5%90%8d%e5%86%b2%e7%aa%81" aria-label="2.10.2 åµŒå¥—ç»“æ„ä½“çš„å­—æ®µåå†²çª">2.10.2 åµŒå¥—ç»“æ„ä½“çš„å­—æ®µåå†²çª</a></li></ul>
                </li>
                <li>
                    <a href="#211-%e7%bb%93%e6%9e%84%e4%bd%93%e7%9a%84%e7%bb%a7%e6%89%bf" aria-label="2.11 ç»“æ„ä½“çš„â€œç»§æ‰¿â€">2.11 ç»“æ„ä½“çš„â€œç»§æ‰¿â€</a></li>
                <li>
                    <a href="#212-%e7%bb%93%e6%9e%84%e4%bd%93%e5%ad%97%e6%ae%b5%e7%9a%84%e5%8f%af%e8%a7%81%e6%80%a7" aria-label="2.12 ç»“æ„ä½“å­—æ®µçš„å¯è§æ€§">2.12 ç»“æ„ä½“å­—æ®µçš„å¯è§æ€§</a></li>
                <li>
                    <a href="#213-%e7%bb%93%e6%9e%84%e4%bd%93%e4%b8%8ejson%e5%ba%8f%e5%88%97%e5%8c%96" aria-label="2.13 ç»“æ„ä½“ä¸JSONåºåˆ—åŒ–">2.13 ç»“æ„ä½“ä¸JSONåºåˆ—åŒ–</a></li>
                <li>
                    <a href="#214-%e7%bb%93%e6%9e%84%e4%bd%93%e6%a0%87%e7%ad%betag" aria-label="2.14 ç»“æ„ä½“æ ‡ç­¾ï¼ˆTagï¼‰">2.14 ç»“æ„ä½“æ ‡ç­¾ï¼ˆTagï¼‰</a></li>
                <li>
                    <a href="#215-%e7%bb%93%e6%9e%84%e4%bd%93%e5%92%8c%e6%96%b9%e6%b3%95%e8%a1%a5%e5%85%85%e7%9f%a5%e8%af%86%e7%82%b9" aria-label="2.15 ç»“æ„ä½“å’Œæ–¹æ³•è¡¥å……çŸ¥è¯†ç‚¹">2.15 ç»“æ„ä½“å’Œæ–¹æ³•è¡¥å……çŸ¥è¯†ç‚¹</a></li></ul>
                </li>
                <li>
                    <a href="#3-%e7%bb%83%e4%b9%a0%e9%a2%98" aria-label="3. ç»ƒä¹ é¢˜">3. ç»ƒä¹ é¢˜</a>
                </li>
            </ul>
        </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
        
        activeElement = elements[0];
        const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
        document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
    }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 &&
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
            const id = encodeURI(element.getAttribute('id')).toLowerCase();
            if (element === activeElement){
                document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
            } else {
                document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
            }
        })
    }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;
    }
</script>
        
        <div class="post-content"><p>Goè¯­è¨€ä¸­æ²¡æœ‰â€œç±»â€çš„æ¦‚å¿µï¼Œä¹Ÿä¸æ”¯æŒâ€œç±»â€çš„ç»§æ‰¿ç­‰é¢å‘å¯¹è±¡çš„æ¦‚å¿µã€‚Goè¯­è¨€ä¸­é€šè¿‡ç»“æ„ä½“çš„å†…åµŒå†é…åˆæ¥å£æ¯”é¢å‘å¯¹è±¡å…·æœ‰æ›´é«˜çš„æ‰©å±•æ€§å’Œçµæ´»æ€§ã€‚</p>
<h2 id="1-ç±»å‹åˆ«åå’Œè‡ªå®šä¹‰ç±»å‹">1. ç±»å‹åˆ«åå’Œè‡ªå®šä¹‰ç±»å‹<a hidden class="anchor" aria-hidden="true" href="#1-ç±»å‹åˆ«åå’Œè‡ªå®šä¹‰ç±»å‹">#</a></h2>
<h3 id="11-è‡ªå®šä¹‰ç±»å‹">1.1 è‡ªå®šä¹‰ç±»å‹<a hidden class="anchor" aria-hidden="true" href="#11-è‡ªå®šä¹‰ç±»å‹">#</a></h3>
<p>åœ¨Goè¯­è¨€ä¸­æœ‰ä¸€äº›åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œå¦‚<code>string</code>ã€<code>æ•´å‹</code>ã€<code>æµ®ç‚¹å‹</code>ã€<code>å¸ƒå°”</code>ç­‰æ•°æ®ç±»å‹ï¼Œ Goè¯­è¨€ä¸­å¯ä»¥ä½¿ç”¨<code>type</code>å…³é”®å­—æ¥å®šä¹‰è‡ªå®šä¹‰ç±»å‹ã€‚</p>
<p>è‡ªå®šä¹‰ç±»å‹æ˜¯å®šä¹‰äº†ä¸€ä¸ªå…¨æ–°çš„ç±»å‹ã€‚æˆ‘ä»¬å¯ä»¥åŸºäºå†…ç½®çš„åŸºæœ¬ç±»å‹å®šä¹‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡structå®šä¹‰ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">//å°†MyIntå®šä¹‰ä¸ºintç±»å‹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">MyInt</span> <span style="color:#66d9ef">int</span>
</span></span></code></pre></div><p>é€šè¿‡<code>type</code>å…³é”®å­—çš„å®šä¹‰ï¼Œ<code>MyInt</code>å°±æ˜¯ä¸€ç§æ–°çš„ç±»å‹ï¼Œå®ƒå…·æœ‰<code>int</code>çš„ç‰¹æ€§ã€‚</p>
<h3 id="12-ç±»å‹åˆ«å">1.2 ç±»å‹åˆ«å<a hidden class="anchor" aria-hidden="true" href="#12-ç±»å‹åˆ«å">#</a></h3>
<p>ç±»å‹åˆ«åæ˜¯<code>Go1.9</code>ç‰ˆæœ¬æ·»åŠ çš„æ–°åŠŸèƒ½ã€‚</p>
<p>ç±»å‹åˆ«åè§„å®šï¼šTypeAliasåªæ˜¯Typeçš„åˆ«åï¼Œæœ¬è´¨ä¸ŠTypeAliasä¸Typeæ˜¯åŒä¸€ä¸ªç±»å‹ã€‚å°±åƒä¸€ä¸ªå­©å­å°æ—¶å€™æœ‰å°åã€ä¹³åï¼Œä¸Šå­¦åç”¨å­¦åï¼Œè‹±è¯­è€å¸ˆåˆä¼šç»™ä»–èµ·è‹±æ–‡åï¼Œä½†è¿™äº›åå­—éƒ½æŒ‡çš„æ˜¯ä»–æœ¬äººã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">TypeAlias</span> = <span style="color:#a6e22e">Type</span>
</span></span></code></pre></div><p>æˆ‘ä»¬ä¹‹å‰è§è¿‡çš„<code>rune</code>å’Œ<code>byte</code>å°±æ˜¯ç±»å‹åˆ«åï¼Œä»–ä»¬çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#66d9ef">byte</span> = <span style="color:#66d9ef">uint8</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#66d9ef">rune</span> = <span style="color:#66d9ef">int32</span>
</span></span></code></pre></div><h3 id="13-ç±»å‹å®šä¹‰å’Œç±»å‹åˆ«åçš„åŒºåˆ«">1.3 ç±»å‹å®šä¹‰å’Œç±»å‹åˆ«åçš„åŒºåˆ«<a hidden class="anchor" aria-hidden="true" href="#13-ç±»å‹å®šä¹‰å’Œç±»å‹åˆ«åçš„åŒºåˆ«">#</a></h3>
<p>ç±»å‹åˆ«åä¸ç±»å‹å®šä¹‰è¡¨é¢ä¸Šçœ‹åªæœ‰ä¸€ä¸ªç­‰å·çš„å·®å¼‚ï¼Œæˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„è¿™æ®µä»£ç æ¥ç†è§£å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">//ç±»å‹å®šä¹‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">NewInt</span> <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//ç±»å‹åˆ«å
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">MyInt</span> = <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#a6e22e">NewInt</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">b</span> <span style="color:#a6e22e">MyInt</span>
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;type of a:%T\n&#34;</span>, <span style="color:#a6e22e">a</span>) <span style="color:#75715e">//type of a:main.NewInt
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;type of b:%T\n&#34;</span>, <span style="color:#a6e22e">b</span>) <span style="color:#75715e">//type of b:int
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>ç»“æœæ˜¾ç¤ºaçš„ç±»å‹æ˜¯<code>main.NewInt</code>ï¼Œè¡¨ç¤ºmainåŒ…ä¸‹å®šä¹‰çš„<code>NewInt</code>ç±»å‹ã€‚bçš„ç±»å‹æ˜¯<code>int</code>ã€‚<code>MyInt</code>ç±»å‹åªä¼šåœ¨ä»£ç ä¸­å­˜åœ¨ï¼Œç¼–è¯‘å®Œæˆæ—¶å¹¶ä¸ä¼šæœ‰<code>MyInt</code>ç±»å‹ã€‚</p>
<h2 id="2ç»“æ„ä½“">2.ç»“æ„ä½“<a hidden class="anchor" aria-hidden="true" href="#2ç»“æ„ä½“">#</a></h2>
<p>Goè¯­è¨€ä¸­çš„åŸºç¡€æ•°æ®ç±»å‹å¯ä»¥è¡¨ç¤ºä¸€äº›äº‹ç‰©çš„åŸºæœ¬å±æ€§ï¼Œä½†æ˜¯å½“æˆ‘ä»¬æƒ³è¡¨è¾¾ä¸€ä¸ªäº‹ç‰©çš„å…¨éƒ¨æˆ–éƒ¨åˆ†å±æ€§æ—¶ï¼Œè¿™æ—¶å€™å†ç”¨å•ä¸€çš„åŸºæœ¬æ•°æ®ç±»å‹æ˜æ˜¾å°±æ— æ³•æ»¡è¶³éœ€æ±‚äº†ï¼ŒGoè¯­è¨€æä¾›äº†ä¸€ç§è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œå¯ä»¥å°è£…å¤šä¸ªåŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¿™ç§æ•°æ®ç±»å‹å«ç»“æ„ä½“ï¼Œè‹±æ–‡åç§°<code>struct</code>ã€‚ ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>struct</code>æ¥å®šä¹‰è‡ªå·±çš„ç±»å‹äº†ã€‚</p>
<p>Goè¯­è¨€ä¸­é€šè¿‡<code>struct</code>æ¥å®ç°é¢å‘å¯¹è±¡ã€‚</p>
<h3 id="21-ç»“æ„ä½“çš„å®šä¹‰">2.1 ç»“æ„ä½“çš„å®šä¹‰<a hidden class="anchor" aria-hidden="true" href="#21-ç»“æ„ä½“çš„å®šä¹‰">#</a></h3>
<p>ä½¿ç”¨<code>type</code>å’Œ<code>struct</code>å…³é”®å­—æ¥å®šä¹‰ç»“æ„ä½“ï¼Œå…·ä½“ä»£ç æ ¼å¼å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#960050;background-color:#1e0010">ç±»å‹å</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">å­—æ®µå</span> <span style="color:#960050;background-color:#1e0010">å­—æ®µç±»å‹</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">å­—æ®µå</span> <span style="color:#960050;background-color:#1e0010">å­—æ®µç±»å‹</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">â€¦</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å…¶ä¸­ï¼š</p>
<ul>
<li>ç±»å‹åï¼šæ ‡è¯†è‡ªå®šä¹‰ç»“æ„ä½“çš„åç§°ï¼Œåœ¨åŒä¸€ä¸ªåŒ…å†…ä¸èƒ½é‡å¤ã€‚</li>
<li>å­—æ®µåï¼šè¡¨ç¤ºç»“æ„ä½“å­—æ®µåã€‚ç»“æ„ä½“ä¸­çš„å­—æ®µåå¿…é¡»å”¯ä¸€ã€‚</li>
<li>å­—æ®µç±»å‹ï¼šè¡¨ç¤ºç»“æ„ä½“å­—æ®µçš„å…·ä½“ç±»å‹ã€‚</li>
</ul>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ª<code>Person</code>ï¼ˆäººï¼‰ç»“æ„ä½“ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">person</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">city</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">age</span>  <span style="color:#66d9ef">int8</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>åŒæ ·ç±»å‹çš„å­—æ®µä¹Ÿå¯ä»¥å†™åœ¨ä¸€è¡Œï¼Œ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">person1</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">city</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">age</span>        <span style="color:#66d9ef">int8</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>è¿™æ ·æˆ‘ä»¬å°±æ‹¥æœ‰äº†ä¸€ä¸ª<code>person</code>çš„è‡ªå®šä¹‰ç±»å‹ï¼Œå®ƒæœ‰<code>name</code>ã€<code>city</code>ã€<code>age</code>ä¸‰ä¸ªå­—æ®µï¼Œåˆ†åˆ«è¡¨ç¤ºå§“åã€åŸå¸‚å’Œå¹´é¾„ã€‚è¿™æ ·æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ª<code>person</code>ç»“æ„ä½“å°±èƒ½å¤Ÿå¾ˆæ–¹ä¾¿çš„åœ¨ç¨‹åºä¸­è¡¨ç¤ºå’Œå­˜å‚¨äººä¿¡æ¯äº†ã€‚</p>
<p>è¯­è¨€å†…ç½®çš„åŸºç¡€æ•°æ®ç±»å‹æ˜¯ç”¨æ¥æè¿°ä¸€ä¸ªå€¼çš„ï¼Œè€Œç»“æ„ä½“æ˜¯ç”¨æ¥æè¿°ä¸€ç»„å€¼çš„ã€‚æ¯”å¦‚ä¸€ä¸ªäººæœ‰åå­—ã€å¹´é¾„å’Œå±…ä½åŸå¸‚ç­‰ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ç§èšåˆå‹çš„æ•°æ®ç±»å‹</p>
<h3 id="22-ç»“æ„ä½“å®ä¾‹åŒ–">2.2 ç»“æ„ä½“å®ä¾‹åŒ–<a hidden class="anchor" aria-hidden="true" href="#22-ç»“æ„ä½“å®ä¾‹åŒ–">#</a></h3>
<p>åªæœ‰å½“ç»“æ„ä½“å®ä¾‹åŒ–æ—¶ï¼Œæ‰ä¼šçœŸæ­£åœ°åˆ†é…å†…å­˜ã€‚ä¹Ÿå°±æ˜¯å¿…é¡»å®ä¾‹åŒ–åæ‰èƒ½ä½¿ç”¨ç»“æ„ä½“çš„å­—æ®µã€‚</p>
<p>ç»“æ„ä½“æœ¬èº«ä¹Ÿæ˜¯ä¸€ç§ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥åƒå£°æ˜å†…ç½®ç±»å‹ä¸€æ ·ä½¿ç”¨<code>var</code>å…³é”®å­—å£°æ˜ç»“æ„ä½“ç±»å‹ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#960050;background-color:#1e0010">ç»“æ„ä½“å®ä¾‹</span> <span style="color:#960050;background-color:#1e0010">ç»“æ„ä½“ç±»å‹</span>
</span></span></code></pre></div><h4 id="221-åŸºæœ¬å®ä¾‹åŒ–">2.2.1 åŸºæœ¬å®ä¾‹åŒ–<a hidden class="anchor" aria-hidden="true" href="#221-åŸºæœ¬å®ä¾‹åŒ–">#</a></h4>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">person</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">city</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">age</span>  <span style="color:#66d9ef">int8</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">p1</span> <span style="color:#a6e22e">person</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;æ²™æ²³å¨œæ‰&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">city</span> = <span style="color:#e6db74">&#34;åŒ—äº¬&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">age</span> = <span style="color:#ae81ff">18</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;p1=%v\n&#34;</span>, <span style="color:#a6e22e">p1</span>)  <span style="color:#75715e">//p1={æ²™æ²³å¨œæ‰ åŒ—äº¬ 18}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;p1=%#v\n&#34;</span>, <span style="color:#a6e22e">p1</span>) <span style="color:#75715e">//p1=main.person{name:&#34;æ²™æ²³å¨œæ‰&#34;, city:&#34;åŒ—äº¬&#34;, age:18}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>æˆ‘ä»¬é€šè¿‡<code>.</code>æ¥è®¿é—®ç»“æ„ä½“çš„å­—æ®µï¼ˆæˆå‘˜å˜é‡ï¼‰,ä¾‹å¦‚<code>p1.name</code>å’Œ<code>p1.age</code>ç­‰ã€‚</p>
<h4 id="222-åŒ¿åç»“æ„ä½“">2.2.2 åŒ¿åç»“æ„ä½“<a hidden class="anchor" aria-hidden="true" href="#222-åŒ¿åç»“æ„ä½“">#</a></h4>
<p>åœ¨å®šä¹‰ä¸€äº›ä¸´æ—¶æ•°æ®ç»“æ„ç­‰åœºæ™¯ä¸‹è¿˜å¯ä»¥ä½¿ç”¨åŒ¿åç»“æ„ä½“ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>     
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>     
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">user</span> <span style="color:#66d9ef">struct</span>{<span style="color:#a6e22e">Name</span> <span style="color:#66d9ef">string</span>; <span style="color:#a6e22e">Age</span> <span style="color:#66d9ef">int</span>}
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">Name</span> = <span style="color:#e6db74">&#34;å°ç‹å­&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">Age</span> = <span style="color:#ae81ff">18</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%#v\n&#34;</span>, <span style="color:#a6e22e">user</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="223-åˆ›å»ºæŒ‡é’ˆç±»å‹ç»“æ„ä½“">2.2.3 åˆ›å»ºæŒ‡é’ˆç±»å‹ç»“æ„ä½“<a hidden class="anchor" aria-hidden="true" href="#223-åˆ›å»ºæŒ‡é’ˆç±»å‹ç»“æ„ä½“">#</a></h4>
<p>æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ä½¿ç”¨<code>new</code>å…³é”®å­—å¯¹ç»“æ„ä½“è¿›è¡Œå®ä¾‹åŒ–ï¼Œå¾—åˆ°çš„æ˜¯ç»“æ„ä½“çš„åœ°å€ã€‚ æ ¼å¼å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">p2</span> = new(<span style="color:#a6e22e">person</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%T\n&#34;</span>, <span style="color:#a6e22e">p2</span>)     <span style="color:#75715e">//*main.person
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;p2=%#v\n&#34;</span>, <span style="color:#a6e22e">p2</span>) <span style="color:#75715e">//p2=&amp;main.person{name:&#34;&#34;, city:&#34;&#34;, age:0}
</span></span></span></code></pre></div><p>ä»æ‰“å°çš„ç»“æœä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡º<code>p2</code>æ˜¯ä¸€ä¸ªç»“æ„ä½“æŒ‡é’ˆã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯åœ¨Goè¯­è¨€ä¸­æ”¯æŒå¯¹ç»“æ„ä½“æŒ‡é’ˆç›´æ¥ä½¿ç”¨<code>.</code>æ¥è®¿é—®ç»“æ„ä½“çš„æˆå‘˜ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">p2</span> = new(<span style="color:#a6e22e">person</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">p2</span>.<span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;å°ç‹å­&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">p2</span>.<span style="color:#a6e22e">age</span> = <span style="color:#ae81ff">28</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">p2</span>.<span style="color:#a6e22e">city</span> = <span style="color:#e6db74">&#34;ä¸Šæµ·&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;p2=%#v\n&#34;</span>, <span style="color:#a6e22e">p2</span>) <span style="color:#75715e">//p2=&amp;main.person{name:&#34;å°ç‹å­&#34;, city:&#34;ä¸Šæµ·&#34;, age:28}
</span></span></span></code></pre></div><h4 id="224-å–ç»“æ„ä½“çš„åœ°å€å®ä¾‹åŒ–">2.2.4 å–ç»“æ„ä½“çš„åœ°å€å®ä¾‹åŒ–<a hidden class="anchor" aria-hidden="true" href="#224-å–ç»“æ„ä½“çš„åœ°å€å®ä¾‹åŒ–">#</a></h4>
<p>ä½¿ç”¨<code>&amp;</code>å¯¹ç»“æ„ä½“è¿›è¡Œå–åœ°å€æ“ä½œç›¸å½“äºå¯¹è¯¥ç»“æ„ä½“ç±»å‹è¿›è¡Œäº†ä¸€æ¬¡<code>new</code>å®ä¾‹åŒ–æ“ä½œã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">p3</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">person</span>{}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%T\n&#34;</span>, <span style="color:#a6e22e">p3</span>)     <span style="color:#75715e">//*main.person
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;p3=%#v\n&#34;</span>, <span style="color:#a6e22e">p3</span>) <span style="color:#75715e">//p3=&amp;main.person{name:&#34;&#34;, city:&#34;&#34;, age:0}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">p3</span>.<span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;ä¸ƒç±³&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">p3</span>.<span style="color:#a6e22e">age</span> = <span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">p3</span>.<span style="color:#a6e22e">city</span> = <span style="color:#e6db74">&#34;æˆéƒ½&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;p3=%#v\n&#34;</span>, <span style="color:#a6e22e">p3</span>) <span style="color:#75715e">//p3=&amp;main.person{name:&#34;ä¸ƒç±³&#34;, city:&#34;æˆéƒ½&#34;, age:30}
</span></span></span></code></pre></div><p><code>p3.name = &quot;ä¸ƒç±³&quot;</code>å…¶å®åœ¨åº•å±‚æ˜¯<code>(*p3).name = &quot;ä¸ƒç±³&quot;</code>ï¼Œè¿™æ˜¯Goè¯­è¨€å¸®æˆ‘ä»¬å®ç°çš„è¯­æ³•ç³–ã€‚</p>
<h3 id="23-ç»“æ„ä½“åˆå§‹åŒ–">2.3 ç»“æ„ä½“åˆå§‹åŒ–<a hidden class="anchor" aria-hidden="true" href="#23-ç»“æ„ä½“åˆå§‹åŒ–">#</a></h3>
<p>æ²¡æœ‰åˆå§‹åŒ–çš„ç»“æ„ä½“ï¼Œå…¶æˆå‘˜å˜é‡éƒ½æ˜¯å¯¹åº”å…¶ç±»å‹çš„é›¶å€¼ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">person</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">city</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">age</span>  <span style="color:#66d9ef">int8</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">p4</span> <span style="color:#a6e22e">person</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;p4=%#v\n&#34;</span>, <span style="color:#a6e22e">p4</span>) <span style="color:#75715e">//p4=main.person{name:&#34;&#34;, city:&#34;&#34;, age:0}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h4 id="231-ä½¿ç”¨é”®å€¼å¯¹åˆå§‹åŒ–">2.3.1 ä½¿ç”¨é”®å€¼å¯¹åˆå§‹åŒ–<a hidden class="anchor" aria-hidden="true" href="#231-ä½¿ç”¨é”®å€¼å¯¹åˆå§‹åŒ–">#</a></h4>
<p>ä½¿ç”¨é”®å€¼å¯¹å¯¹ç»“æ„ä½“è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œé”®å¯¹åº”ç»“æ„ä½“çš„å­—æ®µï¼Œå€¼å¯¹åº”è¯¥å­—æ®µçš„åˆå§‹å€¼ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">p5</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">person</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span>: <span style="color:#e6db74">&#34;å°ç‹å­&#34;</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">city</span>: <span style="color:#e6db74">&#34;åŒ—äº¬&#34;</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">age</span>:  <span style="color:#ae81ff">18</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;p5=%#v\n&#34;</span>, <span style="color:#a6e22e">p5</span>) <span style="color:#75715e">//p5=main.person{name:&#34;å°ç‹å­&#34;, city:&#34;åŒ—äº¬&#34;, age:18}
</span></span></span></code></pre></div><p>ä¹Ÿå¯ä»¥å¯¹ç»“æ„ä½“æŒ‡é’ˆè¿›è¡Œé”®å€¼å¯¹åˆå§‹åŒ–ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">p6</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">person</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span>: <span style="color:#e6db74">&#34;å°ç‹å­&#34;</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">city</span>: <span style="color:#e6db74">&#34;åŒ—äº¬&#34;</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">age</span>:  <span style="color:#ae81ff">18</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;p6=%#v\n&#34;</span>, <span style="color:#a6e22e">p6</span>) <span style="color:#75715e">//p6=&amp;main.person{name:&#34;å°ç‹å­&#34;, city:&#34;åŒ—äº¬&#34;, age:18}
</span></span></span></code></pre></div><p>å½“æŸäº›å­—æ®µæ²¡æœ‰åˆå§‹å€¼çš„æ—¶å€™ï¼Œè¯¥å­—æ®µå¯ä»¥ä¸å†™ã€‚æ­¤æ—¶ï¼Œæ²¡æœ‰æŒ‡å®šåˆå§‹å€¼çš„å­—æ®µçš„å€¼å°±æ˜¯è¯¥å­—æ®µç±»å‹çš„é›¶å€¼ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">p7</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">person</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">city</span>: <span style="color:#e6db74">&#34;åŒ—äº¬&#34;</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;p7=%#v\n&#34;</span>, <span style="color:#a6e22e">p7</span>) <span style="color:#75715e">//p7=&amp;main.person{name:&#34;&#34;, city:&#34;åŒ—äº¬&#34;, age:0}
</span></span></span></code></pre></div><h4 id="232-ä½¿ç”¨å€¼çš„åˆ—è¡¨åˆå§‹åŒ–">2.3.2 ä½¿ç”¨å€¼çš„åˆ—è¡¨åˆå§‹åŒ–<a hidden class="anchor" aria-hidden="true" href="#232-ä½¿ç”¨å€¼çš„åˆ—è¡¨åˆå§‹åŒ–">#</a></h4>
<p>åˆå§‹åŒ–ç»“æ„ä½“çš„æ—¶å€™å¯ä»¥ç®€å†™ï¼Œä¹Ÿå°±æ˜¯åˆå§‹åŒ–çš„æ—¶å€™ä¸å†™é”®ï¼Œç›´æ¥å†™å€¼ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">p8</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">person</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;æ²™æ²³å¨œæ‰&#34;</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;åŒ—äº¬&#34;</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#ae81ff">28</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;p8=%#v\n&#34;</span>, <span style="color:#a6e22e">p8</span>) <span style="color:#75715e">//p8=&amp;main.person{name:&#34;æ²™æ²³å¨œæ‰&#34;, city:&#34;åŒ—äº¬&#34;, age:28}
</span></span></span></code></pre></div><p>ä½¿ç”¨è¿™ç§æ ¼å¼åˆå§‹åŒ–æ—¶ï¼Œéœ€è¦æ³¨æ„ï¼š</p>
<ol>
<li>å¿…é¡»åˆå§‹åŒ–ç»“æ„ä½“çš„æ‰€æœ‰å­—æ®µã€‚</li>
<li>åˆå§‹å€¼çš„å¡«å……é¡ºåºå¿…é¡»ä¸å­—æ®µåœ¨ç»“æ„ä½“ä¸­çš„å£°æ˜é¡ºåºä¸€è‡´ã€‚</li>
<li>è¯¥æ–¹å¼ä¸èƒ½å’Œé”®å€¼åˆå§‹åŒ–æ–¹å¼æ··ç”¨ã€‚</li>
</ol>
<h3 id="24-ç»“æ„ä½“å†…å­˜å¸ƒå±€">2.4 ç»“æ„ä½“å†…å­˜å¸ƒå±€<a hidden class="anchor" aria-hidden="true" href="#24-ç»“æ„ä½“å†…å­˜å¸ƒå±€">#</a></h3>
<p>ç»“æ„ä½“å ç”¨ä¸€å—è¿ç»­çš„å†…å­˜ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">test</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">a</span> <span style="color:#66d9ef">int8</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">b</span> <span style="color:#66d9ef">int8</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">c</span> <span style="color:#66d9ef">int8</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">d</span> <span style="color:#66d9ef">int8</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">n</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">test</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;n.a %p\n&#34;</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">n</span>.<span style="color:#a6e22e">a</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;n.b %p\n&#34;</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">n</span>.<span style="color:#a6e22e">b</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;n.c %p\n&#34;</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">n</span>.<span style="color:#a6e22e">c</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;n.d %p\n&#34;</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">n</span>.<span style="color:#a6e22e">d</span>)
</span></span></code></pre></div><p>è¾“å‡ºï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>n.a 0xc0000a0060
</span></span><span style="display:flex;"><span>n.b 0xc0000a0061
</span></span><span style="display:flex;"><span>n.c 0xc0000a0062
</span></span><span style="display:flex;"><span>n.d 0xc0000a0063
</span></span></code></pre></div><p>ã€è¿›é˜¶çŸ¥è¯†ç‚¹ã€‘å…³äºGoè¯­è¨€ä¸­çš„å†…å­˜å¯¹é½æ¨èé˜…è¯»:<a href="https://www.liwenzhou.com/posts/Go/struct-memory-layout/">Goç»“æ„ä½“çš„å†…å­˜å¯¹é½</a></p>
<h4 id="241-ç©ºç»“æ„ä½“">2.4.1 ç©ºç»“æ„ä½“<a hidden class="anchor" aria-hidden="true" href="#241-ç©ºç»“æ„ä½“">#</a></h4>
<p>ç©ºç»“æ„ä½“æ˜¯ä¸å ç”¨ç©ºé—´çš„ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">v</span> <span style="color:#66d9ef">struct</span>{}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">unsafe</span>.<span style="color:#a6e22e">Sizeof</span>(<span style="color:#a6e22e">v</span>))  <span style="color:#75715e">// 0
</span></span></span></code></pre></div><h3 id="25-é¢è¯•é¢˜">2.5 é¢è¯•é¢˜<a hidden class="anchor" aria-hidden="true" href="#25-é¢è¯•é¢˜">#</a></h3>
<p>è¯·é—®ä¸‹é¢ä»£ç çš„æ‰§è¡Œç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">student</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">age</span>  <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">m</span> <span style="color:#f92672">:=</span> make(<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#f92672">*</span><span style="color:#a6e22e">student</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">stus</span> <span style="color:#f92672">:=</span> []<span style="color:#a6e22e">student</span>{
</span></span><span style="display:flex;"><span>		{<span style="color:#a6e22e">name</span>: <span style="color:#e6db74">&#34;å°ç‹å­&#34;</span>, <span style="color:#a6e22e">age</span>: <span style="color:#ae81ff">18</span>},
</span></span><span style="display:flex;"><span>		{<span style="color:#a6e22e">name</span>: <span style="color:#e6db74">&#34;å¨œæ‰&#34;</span>, <span style="color:#a6e22e">age</span>: <span style="color:#ae81ff">23</span>},
</span></span><span style="display:flex;"><span>		{<span style="color:#a6e22e">name</span>: <span style="color:#e6db74">&#34;å¤§ç‹å…«&#34;</span>, <span style="color:#a6e22e">age</span>: <span style="color:#ae81ff">9000</span>},
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">stu</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">stus</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">m</span>[<span style="color:#a6e22e">stu</span>.<span style="color:#a6e22e">name</span>] = <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">stu</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">k</span>, <span style="color:#a6e22e">v</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">m</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">k</span>, <span style="color:#e6db74">&#34;=&gt;&#34;</span>, <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">name</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><blockquote>
<p>å®é™…ä¸Šåœ¨forå¾ªç¯æ—¶ï¼Œ&amp;stu æŒ‡å‘çš„åœ°å€ä¸€ç›´ä¸å˜ï¼Œä½†æŒ‡å‘çš„å€¼ä¸€ç›´å†å˜ï¼Œforå¾ªç¯ç»“æŸåï¼Œ&amp;stuæŒ‡å‘çš„å€¼æ˜¯éå†çš„æœ€åä¸€ä¸ªå€¼ï¼Œè¿™é‡Œforå¾ªç¯ä¸­ä¸€ç›´æ˜¯å°†stuçš„åœ°å€èµ‹å€¼ç»™ m[stu.name]ï¼Œæ‰€ä»¥æœ€åæ‰€æœ‰çš„ m[stu.name] çš„å€¼éƒ½ä¸º &amp;stuæŒ‡å‘çš„å€¼ã€‚</p>
<p>å¦‚æœæƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€é‡æ–°å£°æ˜ä¸€ä¸ªå±€éƒ¨å˜é‡ stu å˜é‡ï¼ŒæŠŠ for å¾ªç¯çš„ stu å˜é‡ç»™å­˜å‚¨ä¸‹æ¥ï¼Œå†èµ‹å€¼ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">stu</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">stus</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">stu</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">stu</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">m</span>[<span style="color:#a6e22e">stu</span>.<span style="color:#a6e22e">name</span>] = <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">stu</span>
</span></span><span style="display:flex;"><span>	}
</span></span></code></pre></div></blockquote>
<h3 id="26-æ„é€ å‡½æ•°">2.6 æ„é€ å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#26-æ„é€ å‡½æ•°">#</a></h3>
<p>Goè¯­è¨€çš„ç»“æ„ä½“æ²¡æœ‰æ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å®ç°ã€‚ ä¾‹å¦‚ï¼Œä¸‹æ–¹çš„ä»£ç å°±å®ç°äº†ä¸€ä¸ª<code>person</code>çš„æ„é€ å‡½æ•°ã€‚ å› ä¸º<code>struct</code>æ˜¯å€¼ç±»å‹ï¼Œå¦‚æœç»“æ„ä½“æ¯”è¾ƒå¤æ‚çš„è¯ï¼Œå€¼æ‹·è´æ€§èƒ½å¼€é”€ä¼šæ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥è¯¥æ„é€ å‡½æ•°è¿”å›çš„æ˜¯ç»“æ„ä½“æŒ‡é’ˆç±»å‹ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">newPerson</span>(<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">city</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">age</span> <span style="color:#66d9ef">int8</span>) <span style="color:#f92672">*</span><span style="color:#a6e22e">person</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">person</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">name</span>: <span style="color:#a6e22e">name</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">city</span>: <span style="color:#a6e22e">city</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">age</span>:  <span style="color:#a6e22e">age</span>,
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>è°ƒç”¨æ„é€ å‡½æ•°</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">p9</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">newPerson</span>(<span style="color:#e6db74">&#34;å¼ ä¸‰&#34;</span>, <span style="color:#e6db74">&#34;æ²™æ²³&#34;</span>, <span style="color:#ae81ff">90</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%#v\n&#34;</span>, <span style="color:#a6e22e">p9</span>) <span style="color:#75715e">//&amp;main.person{name:&#34;å¼ ä¸‰&#34;, city:&#34;æ²™æ²³&#34;, age:90}
</span></span></span></code></pre></div><h3 id="27-æ–¹æ³•å’Œæ¥æ”¶è€…">2.7 æ–¹æ³•å’Œæ¥æ”¶è€…<a hidden class="anchor" aria-hidden="true" href="#27-æ–¹æ³•å’Œæ¥æ”¶è€…">#</a></h3>
<p>Goè¯­è¨€ä¸­çš„<code>æ–¹æ³•ï¼ˆMethodï¼‰</code>æ˜¯ä¸€ç§ä½œç”¨äºç‰¹å®šç±»å‹å˜é‡çš„å‡½æ•°ã€‚è¿™ç§ç‰¹å®šç±»å‹å˜é‡å«åš<code>æ¥æ”¶è€…ï¼ˆReceiverï¼‰</code>ã€‚æ¥æ”¶è€…çš„æ¦‚å¿µå°±ç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çš„<code>this</code>æˆ–è€… <code>self</code>ã€‚</p>
<p>æ–¹æ³•çš„å®šä¹‰æ ¼å¼å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#960050;background-color:#1e0010">æ¥æ”¶è€…å˜é‡</span> <span style="color:#960050;background-color:#1e0010">æ¥æ”¶è€…ç±»å‹</span>) <span style="color:#960050;background-color:#1e0010">æ–¹æ³•å</span>(<span style="color:#960050;background-color:#1e0010">å‚æ•°åˆ—è¡¨</span>) (<span style="color:#960050;background-color:#1e0010">è¿”å›å‚æ•°</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">å‡½æ•°ä½“</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å…¶ä¸­ï¼Œ</p>
<ul>
<li>æ¥æ”¶è€…å˜é‡ï¼šæ¥æ”¶è€…ä¸­çš„å‚æ•°å˜é‡ååœ¨å‘½åæ—¶ï¼Œå®˜æ–¹å»ºè®®ä½¿ç”¨æ¥æ”¶è€…ç±»å‹åç§°é¦–å­—æ¯çš„å°å†™ï¼Œè€Œä¸æ˜¯<code>self</code>ã€<code>this</code>ä¹‹ç±»çš„å‘½åã€‚ä¾‹å¦‚ï¼Œ<code>Person</code>ç±»å‹çš„æ¥æ”¶è€…å˜é‡åº”è¯¥å‘½åä¸º <code>p</code>ï¼Œ<code>Connector</code>ç±»å‹çš„æ¥æ”¶è€…å˜é‡åº”è¯¥å‘½åä¸º<code>c</code>ç­‰ã€‚</li>
<li>æ¥æ”¶è€…ç±»å‹ï¼šæ¥æ”¶è€…ç±»å‹å’Œå‚æ•°ç±»ä¼¼ï¼Œå¯ä»¥æ˜¯æŒ‡é’ˆç±»å‹å’ŒéæŒ‡é’ˆç±»å‹ã€‚</li>
<li>æ–¹æ³•åã€å‚æ•°åˆ—è¡¨ã€è¿”å›å‚æ•°ï¼šå…·ä½“æ ¼å¼ä¸å‡½æ•°å®šä¹‰ç›¸åŒã€‚</li>
</ul>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">//Person ç»“æ„ä½“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Person</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">age</span>  <span style="color:#66d9ef">int8</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//NewPerson æ„é€ å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">NewPerson</span>(<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">age</span> <span style="color:#66d9ef">int8</span>) <span style="color:#f92672">*</span><span style="color:#a6e22e">Person</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">Person</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">name</span>: <span style="color:#a6e22e">name</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">age</span>:  <span style="color:#a6e22e">age</span>,
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//Dream Personåšæ¢¦çš„æ–¹æ³•
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">p</span> <span style="color:#a6e22e">Person</span>) <span style="color:#a6e22e">Dream</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%sçš„æ¢¦æƒ³æ˜¯å­¦å¥½Goè¯­è¨€ï¼\n&#34;</span>, <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">name</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">p1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">NewPerson</span>(<span style="color:#e6db74">&#34;å°ç‹å­&#34;</span>, <span style="color:#ae81ff">25</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">Dream</span>()
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>æ–¹æ³•ä¸å‡½æ•°çš„åŒºåˆ«æ˜¯ï¼Œå‡½æ•°ä¸å±äºä»»ä½•ç±»å‹ï¼Œæ–¹æ³•å±äºç‰¹å®šçš„ç±»å‹ã€‚</p>
<h4 id="271-æŒ‡é’ˆç±»å‹çš„æ¥æ”¶è€…">2.7.1 æŒ‡é’ˆç±»å‹çš„æ¥æ”¶è€…<a hidden class="anchor" aria-hidden="true" href="#271-æŒ‡é’ˆç±»å‹çš„æ¥æ”¶è€…">#</a></h4>
<p>æŒ‡é’ˆç±»å‹çš„æ¥æ”¶è€…ç”±ä¸€ä¸ªç»“æ„ä½“çš„æŒ‡é’ˆç»„æˆï¼Œç”±äºæŒ‡é’ˆçš„ç‰¹æ€§ï¼Œè°ƒç”¨æ–¹æ³•æ—¶ä¿®æ”¹æ¥æ”¶è€…æŒ‡é’ˆçš„ä»»æ„æˆå‘˜å˜é‡ï¼Œåœ¨æ–¹æ³•ç»“æŸåï¼Œä¿®æ”¹éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚è¿™ç§æ–¹å¼å°±ååˆ†æ¥è¿‘äºå…¶ä»–è¯­è¨€ä¸­é¢å‘å¯¹è±¡ä¸­çš„<code>this</code>æˆ–è€…<code>self</code>ã€‚ ä¾‹å¦‚æˆ‘ä»¬ä¸º<code>Person</code>æ·»åŠ ä¸€ä¸ª<code>SetAge</code>æ–¹æ³•ï¼Œæ¥ä¿®æ”¹å®ä¾‹å˜é‡çš„å¹´é¾„ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// SetAge è®¾ç½®pçš„å¹´é¾„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶è€…
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">p</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Person</span>) <span style="color:#a6e22e">SetAge</span>(<span style="color:#a6e22e">newAge</span> <span style="color:#66d9ef">int8</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">age</span> = <span style="color:#a6e22e">newAge</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>è°ƒç”¨è¯¥æ–¹æ³•ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">p1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">NewPerson</span>(<span style="color:#e6db74">&#34;å°ç‹å­&#34;</span>, <span style="color:#ae81ff">25</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">age</span>) <span style="color:#75715e">// 25
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">SetAge</span>(<span style="color:#ae81ff">30</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">age</span>) <span style="color:#75715e">// 30
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h4 id="272-å€¼ç±»å‹çš„æ¥æ”¶è€…">2.7.2 å€¼ç±»å‹çš„æ¥æ”¶è€…<a hidden class="anchor" aria-hidden="true" href="#272-å€¼ç±»å‹çš„æ¥æ”¶è€…">#</a></h4>
<p>å½“æ–¹æ³•ä½œç”¨äºå€¼ç±»å‹æ¥æ”¶è€…æ—¶ï¼ŒGoè¯­è¨€ä¼šåœ¨ä»£ç è¿è¡Œæ—¶å°†æ¥æ”¶è€…çš„å€¼å¤åˆ¶ä¸€ä»½ã€‚åœ¨å€¼ç±»å‹æ¥æ”¶è€…çš„æ–¹æ³•ä¸­å¯ä»¥è·å–æ¥æ”¶è€…çš„æˆå‘˜å€¼ï¼Œä½†ä¿®æ”¹æ“ä½œåªæ˜¯é’ˆå¯¹å‰¯æœ¬ï¼Œæ— æ³•ä¿®æ”¹æ¥æ”¶è€…å˜é‡æœ¬èº«ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// SetAge2 è®¾ç½®pçš„å¹´é¾„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// ä½¿ç”¨å€¼æ¥æ”¶è€…
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">p</span> <span style="color:#a6e22e">Person</span>) <span style="color:#a6e22e">SetAge2</span>(<span style="color:#a6e22e">newAge</span> <span style="color:#66d9ef">int8</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">age</span> = <span style="color:#a6e22e">newAge</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">p1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">NewPerson</span>(<span style="color:#e6db74">&#34;å°ç‹å­&#34;</span>, <span style="color:#ae81ff">25</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">Dream</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">age</span>) <span style="color:#75715e">// 25
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">SetAge2</span>(<span style="color:#ae81ff">30</span>) <span style="color:#75715e">// (*p1).SetAge2(30)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">age</span>) <span style="color:#75715e">// 25
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h4 id="273-ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨æŒ‡é’ˆç±»å‹æ¥æ”¶è€…">2.7.3 ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨æŒ‡é’ˆç±»å‹æ¥æ”¶è€…<a hidden class="anchor" aria-hidden="true" href="#273-ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨æŒ‡é’ˆç±»å‹æ¥æ”¶è€…">#</a></h4>
<ol>
<li>éœ€è¦ä¿®æ”¹æ¥æ”¶è€…ä¸­çš„å€¼</li>
<li>æ¥æ”¶è€…æ˜¯æ‹·è´ä»£ä»·æ¯”è¾ƒå¤§çš„å¤§å¯¹è±¡</li>
<li>ä¿è¯ä¸€è‡´æ€§ï¼Œå¦‚æœæœ‰æŸä¸ªæ–¹æ³•ä½¿ç”¨äº†æŒ‡é’ˆæ¥æ”¶è€…ï¼Œé‚£ä¹ˆå…¶ä»–çš„æ–¹æ³•ä¹Ÿåº”è¯¥ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶è€…ã€‚</li>
</ol>
<h3 id="28-ä»»æ„ç±»å‹æ·»åŠ æ–¹æ³•">2.8 ä»»æ„ç±»å‹æ·»åŠ æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#28-ä»»æ„ç±»å‹æ·»åŠ æ–¹æ³•">#</a></h3>
<p>åœ¨Goè¯­è¨€ä¸­ï¼Œæ¥æ”¶è€…çš„ç±»å‹å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œä¸ä»…ä»…æ˜¯ç»“æ„ä½“ï¼Œä»»ä½•ç±»å‹éƒ½å¯ä»¥æ‹¥æœ‰æ–¹æ³•ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åŸºäºå†…ç½®çš„<code>int</code>ç±»å‹ä½¿ç”¨typeå…³é”®å­—å¯ä»¥å®šä¹‰æ–°çš„è‡ªå®šä¹‰ç±»å‹ï¼Œç„¶åä¸ºæˆ‘ä»¬çš„è‡ªå®šä¹‰ç±»å‹æ·»åŠ æ–¹æ³•ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">//MyInt å°†intå®šä¹‰ä¸ºè‡ªå®šä¹‰MyIntç±»å‹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">MyInt</span> <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//SayHello ä¸ºMyIntæ·»åŠ ä¸€ä¸ªSayHelloçš„æ–¹æ³•
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">m</span> <span style="color:#a6e22e">MyInt</span>) <span style="color:#a6e22e">SayHello</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Hello, æˆ‘æ˜¯ä¸€ä¸ªintã€‚&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">m1</span> <span style="color:#a6e22e">MyInt</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">m1</span>.<span style="color:#a6e22e">SayHello</span>() <span style="color:#75715e">//Hello, æˆ‘æ˜¯ä¸€ä¸ªintã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">m1</span> = <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%#v  %T\n&#34;</span>, <span style="color:#a6e22e">m1</span>, <span style="color:#a6e22e">m1</span>) <span style="color:#75715e">//100  main.MyInt
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong> éæœ¬åœ°ç±»å‹ä¸èƒ½å®šä¹‰æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¸èƒ½ç»™åˆ«çš„åŒ…çš„ç±»å‹å®šä¹‰æ–¹æ³•ã€‚</p>
<h3 id="29-ç»“æ„ä½“çš„åŒ¿åå­—æ®µ">2.9 ç»“æ„ä½“çš„åŒ¿åå­—æ®µ<a hidden class="anchor" aria-hidden="true" href="#29-ç»“æ„ä½“çš„åŒ¿åå­—æ®µ">#</a></h3>
<p>ç»“æ„ä½“å…è®¸å…¶æˆå‘˜å­—æ®µåœ¨å£°æ˜æ—¶æ²¡æœ‰å­—æ®µåè€Œåªæœ‰ç±»å‹ï¼Œè¿™ç§æ²¡æœ‰åå­—çš„å­—æ®µå°±ç§°ä¸ºåŒ¿åå­—æ®µã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">//Person ç»“æ„ä½“Personç±»å‹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Person</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">p1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Person</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#e6db74">&#34;å°ç‹å­&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#ae81ff">18</span>,
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%#v\n&#34;</span>, <span style="color:#a6e22e">p1</span>)        <span style="color:#75715e">//main.Person{string:&#34;åŒ—äº¬&#34;, int:18}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">p1</span>.<span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">p1</span>.<span style="color:#66d9ef">int</span>) <span style="color:#75715e">//åŒ—äº¬ 18
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>**æ³¨æ„ï¼š**è¿™é‡ŒåŒ¿åå­—æ®µçš„è¯´æ³•å¹¶ä¸ä»£è¡¨æ²¡æœ‰å­—æ®µåï¼Œè€Œæ˜¯é»˜è®¤ä¼šé‡‡ç”¨ç±»å‹åä½œä¸ºå­—æ®µåï¼Œç»“æ„ä½“è¦æ±‚å­—æ®µåç§°å¿…é¡»å”¯ä¸€ï¼Œå› æ­¤ä¸€ä¸ªç»“æ„ä½“ä¸­åŒç§ç±»å‹çš„åŒ¿åå­—æ®µåªèƒ½æœ‰ä¸€ä¸ªã€‚</p>
<h3 id="210-åµŒå¥—ç»“æ„ä½“">2.10 åµŒå¥—ç»“æ„ä½“<a hidden class="anchor" aria-hidden="true" href="#210-åµŒå¥—ç»“æ„ä½“">#</a></h3>
<p>ä¸€ä¸ªç»“æ„ä½“ä¸­å¯ä»¥åµŒå¥—åŒ…å«å¦ä¸€ä¸ªç»“æ„ä½“æˆ–ç»“æ„ä½“æŒ‡é’ˆï¼Œå°±åƒä¸‹é¢çš„ç¤ºä¾‹ä»£ç é‚£æ ·ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">//Address åœ°å€ç»“æ„ä½“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Address</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Province</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">City</span>     <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//User ç”¨æˆ·ç»“æ„ä½“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">User</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Name</span>    <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Gender</span>  <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Address</span> <span style="color:#a6e22e">Address</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">user1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">User</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">Name</span>:   <span style="color:#e6db74">&#34;å°ç‹å­&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">Gender</span>: <span style="color:#e6db74">&#34;ç”·&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">Address</span>: <span style="color:#a6e22e">Address</span>{
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">Province</span>: <span style="color:#e6db74">&#34;å±±ä¸œ&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">City</span>:     <span style="color:#e6db74">&#34;å¨æµ·&#34;</span>,
</span></span><span style="display:flex;"><span>		},
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;user1=%#v\n&#34;</span>, <span style="color:#a6e22e">user1</span>)<span style="color:#75715e">//user1=main.User{Name:&#34;å°ç‹å­&#34;, Gender:&#34;ç”·&#34;, Address:main.Address{Province:&#34;å±±ä¸œ&#34;, City:&#34;å¨æµ·&#34;}}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h4 id="2101-åµŒå¥—åŒ¿åå­—æ®µ">2.10.1 åµŒå¥—åŒ¿åå­—æ®µ<a hidden class="anchor" aria-hidden="true" href="#2101-åµŒå¥—åŒ¿åå­—æ®µ">#</a></h4>
<p>ä¸Šé¢userç»“æ„ä½“ä¸­åµŒå¥—çš„<code>Address</code>ç»“æ„ä½“ä¹Ÿå¯ä»¥é‡‡ç”¨åŒ¿åå­—æ®µçš„æ–¹å¼ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">//Address åœ°å€ç»“æ„ä½“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Address</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Province</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">City</span>     <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//User ç”¨æˆ·ç»“æ„ä½“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">User</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Name</span>    <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Gender</span>  <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Address</span> <span style="color:#75715e">//åŒ¿åå­—æ®µ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">user2</span> <span style="color:#a6e22e">User</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">user2</span>.<span style="color:#a6e22e">Name</span> = <span style="color:#e6db74">&#34;å°ç‹å­&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">user2</span>.<span style="color:#a6e22e">Gender</span> = <span style="color:#e6db74">&#34;ç”·&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">user2</span>.<span style="color:#a6e22e">Address</span>.<span style="color:#a6e22e">Province</span> = <span style="color:#e6db74">&#34;å±±ä¸œ&#34;</span>    <span style="color:#75715e">// åŒ¿åå­—æ®µé»˜è®¤ä½¿ç”¨ç±»å‹åä½œä¸ºå­—æ®µå
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">user2</span>.<span style="color:#a6e22e">City</span> = <span style="color:#e6db74">&#34;å¨æµ·&#34;</span>                <span style="color:#75715e">// åŒ¿åå­—æ®µå¯ä»¥çœç•¥
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;user2=%#v\n&#34;</span>, <span style="color:#a6e22e">user2</span>) <span style="color:#75715e">//user2=main.User{Name:&#34;å°ç‹å­&#34;, Gender:&#34;ç”·&#34;, Address:main.Address{Province:&#34;å±±ä¸œ&#34;, City:&#34;å¨æµ·&#34;}}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>å½“è®¿é—®ç»“æ„ä½“æˆå‘˜æ—¶ä¼šå…ˆåœ¨ç»“æ„ä½“ä¸­æŸ¥æ‰¾è¯¥å­—æ®µï¼Œæ‰¾ä¸åˆ°å†å»åµŒå¥—çš„åŒ¿åå­—æ®µä¸­æŸ¥æ‰¾ã€‚</p>
<h4 id="2102-åµŒå¥—ç»“æ„ä½“çš„å­—æ®µåå†²çª">2.10.2 åµŒå¥—ç»“æ„ä½“çš„å­—æ®µåå†²çª<a hidden class="anchor" aria-hidden="true" href="#2102-åµŒå¥—ç»“æ„ä½“çš„å­—æ®µåå†²çª">#</a></h4>
<p>åµŒå¥—ç»“æ„ä½“å†…éƒ¨å¯èƒ½å­˜åœ¨ç›¸åŒçš„å­—æ®µåã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ä¸ºäº†é¿å…æ­§ä¹‰éœ€è¦é€šè¿‡æŒ‡å®šå…·ä½“çš„å†…åµŒç»“æ„ä½“å­—æ®µåã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">//Address åœ°å€ç»“æ„ä½“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Address</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Province</span>   <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">City</span>       <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">CreateTime</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//Email é‚®ç®±ç»“æ„ä½“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Email</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Account</span>    <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">CreateTime</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//User ç”¨æˆ·ç»“æ„ä½“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">User</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Name</span>   <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Gender</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Address</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Email</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">user3</span> <span style="color:#a6e22e">User</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">user3</span>.<span style="color:#a6e22e">Name</span> = <span style="color:#e6db74">&#34;æ²™æ²³å¨œæ‰&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">user3</span>.<span style="color:#a6e22e">Gender</span> = <span style="color:#e6db74">&#34;ç”·&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// user3.CreateTime = &#34;2019&#34; //ambiguous selector user3.CreateTime
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">user3</span>.<span style="color:#a6e22e">Address</span>.<span style="color:#a6e22e">CreateTime</span> = <span style="color:#e6db74">&#34;2000&#34;</span> <span style="color:#75715e">//æŒ‡å®šAddressç»“æ„ä½“ä¸­çš„CreateTime
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">user3</span>.<span style="color:#a6e22e">Email</span>.<span style="color:#a6e22e">CreateTime</span> = <span style="color:#e6db74">&#34;2000&#34;</span>   <span style="color:#75715e">//æŒ‡å®šEmailç»“æ„ä½“ä¸­çš„CreateTime
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h3 id="211-ç»“æ„ä½“çš„ç»§æ‰¿">2.11 ç»“æ„ä½“çš„â€œç»§æ‰¿â€<a hidden class="anchor" aria-hidden="true" href="#211-ç»“æ„ä½“çš„ç»§æ‰¿">#</a></h3>
<p>Goè¯­è¨€ä¸­ä½¿ç”¨ç»“æ„ä½“ä¹Ÿå¯ä»¥å®ç°å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­é¢å‘å¯¹è±¡çš„ç»§æ‰¿ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">//Animal åŠ¨ç‰©
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Animal</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">a</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Animal</span>) <span style="color:#a6e22e">move</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%sä¼šåŠ¨ï¼\n&#34;</span>, <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">name</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//Dog ç‹—
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Dog</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Feet</span>    <span style="color:#66d9ef">int8</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">*</span><span style="color:#a6e22e">Animal</span> <span style="color:#75715e">//é€šè¿‡åµŒå¥—åŒ¿åç»“æ„ä½“å®ç°ç»§æ‰¿
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">d</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Dog</span>) <span style="color:#a6e22e">wang</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%sä¼šæ±ªæ±ªæ±ª~\n&#34;</span>, <span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">name</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">d1</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">Dog</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">Feet</span>: <span style="color:#ae81ff">4</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">Animal</span>: <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">Animal</span>{ <span style="color:#75715e">//æ³¨æ„åµŒå¥—çš„æ˜¯ç»“æ„ä½“æŒ‡é’ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>			<span style="color:#a6e22e">name</span>: <span style="color:#e6db74">&#34;ä¹ä¹&#34;</span>,
</span></span><span style="display:flex;"><span>		},
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">d1</span>.<span style="color:#a6e22e">wang</span>() <span style="color:#75715e">//ä¹ä¹ä¼šæ±ªæ±ªæ±ª~
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">d1</span>.<span style="color:#a6e22e">move</span>() <span style="color:#75715e">//ä¹ä¹ä¼šåŠ¨ï¼
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h3 id="212-ç»“æ„ä½“å­—æ®µçš„å¯è§æ€§">2.12 ç»“æ„ä½“å­—æ®µçš„å¯è§æ€§<a hidden class="anchor" aria-hidden="true" href="#212-ç»“æ„ä½“å­—æ®µçš„å¯è§æ€§">#</a></h3>
<p>ç»“æ„ä½“ä¸­å­—æ®µå¤§å†™å¼€å¤´è¡¨ç¤ºå¯å…¬å¼€è®¿é—®ï¼Œå°å†™è¡¨ç¤ºç§æœ‰ï¼ˆä»…åœ¨å®šä¹‰å½“å‰ç»“æ„ä½“çš„åŒ…ä¸­å¯è®¿é—®ï¼‰ã€‚</p>
<h3 id="213-ç»“æ„ä½“ä¸jsonåºåˆ—åŒ–">2.13 ç»“æ„ä½“ä¸JSONåºåˆ—åŒ–<a hidden class="anchor" aria-hidden="true" href="#213-ç»“æ„ä½“ä¸jsonåºåˆ—åŒ–">#</a></h3>
<p>JSON(JavaScript Object Notation) æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚æ˜“äºäººé˜…è¯»å’Œç¼–å†™ã€‚åŒæ—¶ä¹Ÿæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆã€‚JSONé”®å€¼å¯¹æ˜¯ç”¨æ¥ä¿å­˜JSå¯¹è±¡çš„ä¸€ç§æ–¹å¼ï¼Œé”®/å€¼å¯¹ç»„åˆä¸­çš„é”®åå†™åœ¨å‰é¢å¹¶ç”¨åŒå¼•å·<code>&quot;&quot;</code>åŒ…è£¹ï¼Œä½¿ç”¨å†’å·<code>:</code>åˆ†éš”ï¼Œç„¶åç´§æ¥ç€å€¼ï¼›å¤šä¸ªé”®å€¼ä¹‹é—´ä½¿ç”¨è‹±æ–‡<code>,</code>åˆ†éš”ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">//Student å­¦ç”Ÿ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Student</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">ID</span>     <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Gender</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Name</span>   <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//Class ç­çº§
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Class</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Title</span>    <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Students</span> []<span style="color:#f92672">*</span><span style="color:#a6e22e">Student</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">Class</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">Title</span>:    <span style="color:#e6db74">&#34;101&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">Students</span>: make([]<span style="color:#f92672">*</span><span style="color:#a6e22e">Student</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">200</span>),
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#ae81ff">10</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">stu</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">Student</span>{
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">Name</span>:   <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;stu%02d&#34;</span>, <span style="color:#a6e22e">i</span>),
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">Gender</span>: <span style="color:#e6db74">&#34;ç”·&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">ID</span>:     <span style="color:#a6e22e">i</span>,
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Students</span> = append(<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Students</span>, <span style="color:#a6e22e">stu</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//JSONåºåˆ—åŒ–ï¼šç»“æ„ä½“--&gt;JSONæ ¼å¼çš„å­—ç¬¦ä¸²
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">data</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">json</span>.<span style="color:#a6e22e">Marshal</span>(<span style="color:#a6e22e">c</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;json marshal failed&#34;</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;json:%s\n&#34;</span>, <span style="color:#a6e22e">data</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//JSONååºåˆ—åŒ–ï¼šJSONæ ¼å¼çš„å­—ç¬¦ä¸²--&gt;ç»“æ„ä½“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">str</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">`{&#34;Title&#34;:&#34;101&#34;,&#34;Students&#34;:[{&#34;ID&#34;:0,&#34;Gender&#34;:&#34;ç”·&#34;,&#34;Name&#34;:&#34;stu00&#34;},{&#34;ID&#34;:1,&#34;Gender&#34;:&#34;ç”·&#34;,&#34;Name&#34;:&#34;stu01&#34;},{&#34;ID&#34;:2,&#34;Gender&#34;:&#34;ç”·&#34;,&#34;Name&#34;:&#34;stu02&#34;},{&#34;ID&#34;:3,&#34;Gender&#34;:&#34;ç”·&#34;,&#34;Name&#34;:&#34;stu03&#34;},{&#34;ID&#34;:4,&#34;Gender&#34;:&#34;ç”·&#34;,&#34;Name&#34;:&#34;stu04&#34;},{&#34;ID&#34;:5,&#34;Gender&#34;:&#34;ç”·&#34;,&#34;Name&#34;:&#34;stu05&#34;},{&#34;ID&#34;:6,&#34;Gender&#34;:&#34;ç”·&#34;,&#34;Name&#34;:&#34;stu06&#34;},{&#34;ID&#34;:7,&#34;Gender&#34;:&#34;ç”·&#34;,&#34;Name&#34;:&#34;stu07&#34;},{&#34;ID&#34;:8,&#34;Gender&#34;:&#34;ç”·&#34;,&#34;Name&#34;:&#34;stu08&#34;},{&#34;ID&#34;:9,&#34;Gender&#34;:&#34;ç”·&#34;,&#34;Name&#34;:&#34;stu09&#34;}]}`</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">c1</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">Class</span>{}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">json</span>.<span style="color:#a6e22e">Unmarshal</span>([]byte(<span style="color:#a6e22e">str</span>), <span style="color:#a6e22e">c1</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;json unmarshal failed!&#34;</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%#v\n&#34;</span>, <span style="color:#a6e22e">c1</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="214-ç»“æ„ä½“æ ‡ç­¾tag">2.14 ç»“æ„ä½“æ ‡ç­¾ï¼ˆTagï¼‰<a hidden class="anchor" aria-hidden="true" href="#214-ç»“æ„ä½“æ ‡ç­¾tag">#</a></h3>
<p><code>Tag</code>æ˜¯ç»“æ„ä½“çš„å…ƒä¿¡æ¯ï¼Œå¯ä»¥åœ¨è¿è¡Œçš„æ—¶å€™é€šè¿‡åå°„çš„æœºåˆ¶è¯»å–å‡ºæ¥ã€‚ <code>Tag</code>åœ¨ç»“æ„ä½“å­—æ®µçš„åæ–¹å®šä¹‰ï¼Œç”±ä¸€å¯¹<strong>åå¼•å·</strong>åŒ…è£¹èµ·æ¥ï¼Œå…·ä½“çš„æ ¼å¼å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#e6db74">`</span>key1:<span style="color:#e6db74">&#34;value1&#34;</span> key2:<span style="color:#e6db74">&#34;value2&#34;</span><span style="color:#e6db74">`</span>
</span></span></code></pre></div><p>ç»“æ„ä½“tagç”±ä¸€ä¸ªæˆ–å¤šä¸ªé”®å€¼å¯¹ç»„æˆã€‚é”®ä¸å€¼ä½¿ç”¨å†’å·åˆ†éš”ï¼Œå€¼ç”¨åŒå¼•å·æ‹¬èµ·æ¥ã€‚åŒä¸€ä¸ªç»“æ„ä½“å­—æ®µå¯ä»¥è®¾ç½®å¤šä¸ªé”®å€¼å¯¹tagï¼Œä¸åŒçš„é”®å€¼å¯¹ä¹‹é—´ä½¿ç”¨ç©ºæ ¼åˆ†éš”ã€‚</p>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong> ä¸ºç»“æ„ä½“ç¼–å†™<code>Tag</code>æ—¶ï¼Œå¿…é¡»ä¸¥æ ¼éµå®ˆé”®å€¼å¯¹çš„è§„åˆ™ã€‚ç»“æ„ä½“æ ‡ç­¾çš„è§£æä»£ç çš„å®¹é”™èƒ½åŠ›å¾ˆå·®ï¼Œä¸€æ—¦æ ¼å¼å†™é”™ï¼Œç¼–è¯‘å’Œè¿è¡Œæ—¶éƒ½ä¸ä¼šæç¤ºä»»ä½•é”™è¯¯ï¼Œé€šè¿‡åå°„ä¹Ÿæ— æ³•æ­£ç¡®å–å€¼ã€‚ä¾‹å¦‚ä¸è¦åœ¨keyå’Œvalueä¹‹é—´æ·»åŠ ç©ºæ ¼ã€‚</p>
<p>ä¾‹å¦‚æˆ‘ä»¬ä¸º<code>Student</code>ç»“æ„ä½“çš„æ¯ä¸ªå­—æ®µå®šä¹‰jsonåºåˆ—åŒ–æ—¶ä½¿ç”¨çš„Tagï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">//Student å­¦ç”Ÿ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Student</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">ID</span>     <span style="color:#66d9ef">int</span>    <span style="color:#e6db74">`json:&#34;id&#34;`</span> <span style="color:#75715e">//é€šè¿‡æŒ‡å®štagå®ç°jsonåºåˆ—åŒ–è¯¥å­—æ®µæ—¶çš„key
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Gender</span> <span style="color:#66d9ef">string</span> <span style="color:#75715e">//jsonåºåˆ—åŒ–æ˜¯é»˜è®¤ä½¿ç”¨å­—æ®µåä½œä¸ºkey
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">name</span>   <span style="color:#66d9ef">string</span> <span style="color:#75715e">//ç§æœ‰ä¸èƒ½è¢«jsonåŒ…è®¿é—®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">s1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Student</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">ID</span>:     <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">Gender</span>: <span style="color:#e6db74">&#34;ç”·&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">name</span>:   <span style="color:#e6db74">&#34;æ²™æ²³å¨œæ‰&#34;</span>,
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">data</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">json</span>.<span style="color:#a6e22e">Marshal</span>(<span style="color:#a6e22e">s1</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;json marshal failed!&#34;</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;json str:%s\n&#34;</span>, <span style="color:#a6e22e">data</span>) <span style="color:#75715e">//json str:{&#34;id&#34;:1,&#34;Gender&#34;:&#34;ç”·&#34;}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h3 id="215-ç»“æ„ä½“å’Œæ–¹æ³•è¡¥å……çŸ¥è¯†ç‚¹">2.15 ç»“æ„ä½“å’Œæ–¹æ³•è¡¥å……çŸ¥è¯†ç‚¹<a hidden class="anchor" aria-hidden="true" href="#215-ç»“æ„ä½“å’Œæ–¹æ³•è¡¥å……çŸ¥è¯†ç‚¹">#</a></h3>
<p>å› ä¸ºsliceå’Œmapè¿™ä¸¤ç§æ•°æ®ç±»å‹éƒ½åŒ…å«äº†æŒ‡å‘åº•å±‚æ•°æ®çš„æŒ‡é’ˆï¼Œå› æ­¤æˆ‘ä»¬åœ¨éœ€è¦å¤åˆ¶å®ƒä»¬æ—¶è¦ç‰¹åˆ«æ³¨æ„ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Person</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span>   <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">age</span>    <span style="color:#66d9ef">int8</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">dreams</span> []<span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">p</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Person</span>) <span style="color:#a6e22e">SetDreams</span>(<span style="color:#a6e22e">dreams</span> []<span style="color:#66d9ef">string</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">dreams</span> = <span style="color:#a6e22e">dreams</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">p1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Person</span>{<span style="color:#a6e22e">name</span>: <span style="color:#e6db74">&#34;å°ç‹å­&#34;</span>, <span style="color:#a6e22e">age</span>: <span style="color:#ae81ff">18</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">data</span> <span style="color:#f92672">:=</span> []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;åƒé¥­&#34;</span>, <span style="color:#e6db74">&#34;ç¡è§‰&#34;</span>, <span style="color:#e6db74">&#34;æ‰“è±†è±†&#34;</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">SetDreams</span>(<span style="color:#a6e22e">data</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// ä½ çœŸçš„æƒ³è¦ä¿®æ”¹ p1.dreams å—ï¼Ÿ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">data</span>[<span style="color:#ae81ff">1</span>] = <span style="color:#e6db74">&#34;ä¸ç¡è§‰&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">dreams</span>)  <span style="color:#75715e">// ?
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>æ­£ç¡®çš„åšæ³•æ˜¯åœ¨æ–¹æ³•ä¸­ä½¿ç”¨ä¼ å…¥çš„sliceçš„æ‹·è´è¿›è¡Œç»“æ„ä½“èµ‹å€¼ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">p</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Person</span>) <span style="color:#a6e22e">SetDreams</span>(<span style="color:#a6e22e">dreams</span> []<span style="color:#66d9ef">string</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">dreams</span> = make([]<span style="color:#66d9ef">string</span>, len(<span style="color:#a6e22e">dreams</span>))
</span></span><span style="display:flex;"><span>	copy(<span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">dreams</span>, <span style="color:#a6e22e">dreams</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>åŒæ ·çš„é—®é¢˜ä¹Ÿå­˜åœ¨äºè¿”å›å€¼sliceå’Œmapçš„æƒ…å†µï¼Œåœ¨å®é™…ç¼–ç è¿‡ç¨‹ä¸­ä¸€å®šè¦æ³¨æ„è¿™ä¸ªé—®é¢˜ã€‚</p>
<h2 id="3-ç»ƒä¹ é¢˜">3. ç»ƒä¹ é¢˜<a hidden class="anchor" aria-hidden="true" href="#3-ç»ƒä¹ é¢˜">#</a></h2>
<ol>
<li>ä½¿ç”¨â€œé¢å‘å¯¹è±¡â€çš„æ€ç»´æ–¹å¼ç¼–å†™ä¸€ä¸ªå­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿã€‚
<ol>
<li>å­¦ç”Ÿæœ‰idã€å§“åã€å¹´é¾„ã€åˆ†æ•°ç­‰ä¿¡æ¯</li>
<li>ç¨‹åºæä¾›å±•ç¤ºå­¦ç”Ÿåˆ—è¡¨ã€æ·»åŠ å­¦ç”Ÿã€ç¼–è¾‘å­¦ç”Ÿä¿¡æ¯ã€åˆ é™¤å­¦ç”Ÿç­‰åŠŸèƒ½</li>
</ol>
</li>
</ol>
<p>main.go</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">showMenu</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;æ¬¢è¿æ¥åˆ°å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;1. æ·»åŠ å­¦ç”Ÿ&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;2. ç¼–è¾‘å­¦ç”Ÿä¿¡æ¯&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;3. å±•ç¤ºæ‰€æœ‰å­¦ç”Ÿä¿¡æ¯&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;4. åˆ é™¤å­¦ç”Ÿä¿¡æ¯&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;5. é€€å‡ºç³»ç»Ÿ&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// è·å–ç”¨æˆ·è¾“å…¥çš„å­¦ç”Ÿä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">getInput</span>() <span style="color:#f92672">*</span><span style="color:#a6e22e">student</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> (
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">id</span>    <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">name</span>  <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">age</span>   <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">grade</span> <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>	)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;è¯·æŒ‰è¦æ±‚è¾“å…¥å­¦ç”Ÿçš„ä¿¡æ¯&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Print</span>(<span style="color:#e6db74">&#34;è¯·è¾“å…¥å­¦ç”Ÿçš„å­¦å·ï¼š&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Scanf</span>(<span style="color:#e6db74">&#34;%d\n&#34;</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">id</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Print</span>(<span style="color:#e6db74">&#34;è¯·è¾“å…¥å­¦ç”Ÿçš„å§“åï¼š&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Scanf</span>(<span style="color:#e6db74">&#34;%s\n&#34;</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">name</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Print</span>(<span style="color:#e6db74">&#34;è¯·è¾“å…¥å­¦ç”Ÿçš„å¹´é¾„ï¼š&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Scanf</span>(<span style="color:#e6db74">&#34;%d\n&#34;</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">age</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Print</span>(<span style="color:#e6db74">&#34;è¯·è¾“å…¥å­¦ç”Ÿçš„åˆ†æ•°ï¼š&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Scanf</span>(<span style="color:#e6db74">&#34;%d\n&#34;</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">grade</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//æ„é€ ä¸€ä¸ªå­¦ç”Ÿå¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">stu</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">newStudent</span>(<span style="color:#a6e22e">id</span>, <span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">age</span>, <span style="color:#a6e22e">grade</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">stu</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">stuMS</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">newStuMS</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">//1.æ‰“å°ç³»ç»Ÿèœå•
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#a6e22e">showMenu</span>()
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">//2.ç­‰å¾…ç”¨æˆ·è¾“å…¥é€‰é¡¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">input</span> <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;è¯·è¾“å…¥ä½ è¦æ“ä½œçš„åºå·ï¼š&#34;</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Scanf</span>(<span style="color:#e6db74">&#34;%d\n&#34;</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">input</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">//3.æ‰§è¡Œç”¨æˆ·è¾“å…¥çš„æ“ä½œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#66d9ef">switch</span> <span style="color:#a6e22e">input</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">case</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">// æ·»åŠ å­¦ç”Ÿ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>			<span style="color:#a6e22e">stu</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">getInput</span>()
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">stuMS</span>.<span style="color:#a6e22e">addStudent</span>(<span style="color:#a6e22e">stu</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">case</span> <span style="color:#ae81ff">2</span>:
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">// ç¼–è¾‘å­¦ç”Ÿä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>			<span style="color:#a6e22e">stu</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">getInput</span>()
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">stuMS</span>.<span style="color:#a6e22e">editStudent</span>(<span style="color:#a6e22e">stu</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">case</span> <span style="color:#ae81ff">3</span>:
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">// å±•ç¤ºæ‰€æœ‰å­¦ç”Ÿä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>			<span style="color:#a6e22e">stuMS</span>.<span style="color:#a6e22e">showStudent</span>()
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">case</span> <span style="color:#ae81ff">4</span>:
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">// åˆ é™¤å­¦ç”Ÿä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>			<span style="color:#a6e22e">stu</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">getInput</span>()
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">stuMS</span>.<span style="color:#a6e22e">delStudent</span>(<span style="color:#a6e22e">stu</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">case</span> <span style="color:#ae81ff">5</span>:
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Exit</span>(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>student.go</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">//ä½¿ç”¨â€œé¢å‘å¯¹è±¡â€çš„æ€ç»´æ–¹å¼ç¼–å†™ä¸€ä¸ªå­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//å­¦ç”Ÿæœ‰idã€å§“åã€å¹´é¾„ã€åˆ†æ•°ç­‰ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//ç¨‹åºæä¾›å±•ç¤ºå­¦ç”Ÿåˆ—è¡¨ã€æ·»åŠ å­¦ç”Ÿã€ç¼–è¾‘å­¦ç”Ÿä¿¡æ¯ã€åˆ é™¤å­¦ç”Ÿç­‰åŠŸèƒ½
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å­¦ç”Ÿç±»ï¼Œæœ‰idã€å§“åã€å¹´é¾„ã€åˆ†æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">student</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">id</span>    <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span>  <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">age</span>   <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">grade</span> <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">StuMS</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">StuList</span> []<span style="color:#f92672">*</span><span style="color:#a6e22e">student</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Student ç±» çš„æ„é€ å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">newStudent</span>(<span style="color:#a6e22e">id</span> <span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">age</span> <span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">grade</span> <span style="color:#66d9ef">int</span>) <span style="color:#f92672">*</span><span style="color:#a6e22e">student</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">student</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">id</span>:    <span style="color:#a6e22e">id</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">name</span>:  <span style="color:#a6e22e">name</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">age</span>:   <span style="color:#a6e22e">age</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">grade</span>: <span style="color:#a6e22e">grade</span>,
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å­¦ç”Ÿç®¡ç†ç³»ç»Ÿçš„æ„é€ å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">newStuMS</span>() <span style="color:#f92672">*</span><span style="color:#a6e22e">StuMS</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">StuMS</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">StuList</span>: make([]<span style="color:#f92672">*</span><span style="color:#a6e22e">student</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">100</span>),
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æ·»åŠ å­¦ç”Ÿ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">s</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">StuMS</span>) <span style="color:#a6e22e">addStudent</span>(<span style="color:#a6e22e">newStu</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">student</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">StuList</span> = append(<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">StuList</span>, <span style="color:#a6e22e">newStu</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ç¼–è¾‘å­¦ç”Ÿä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">s</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">StuMS</span>) <span style="color:#a6e22e">editStudent</span>(<span style="color:#a6e22e">newStu</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">student</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">v</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">StuList</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">id</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">newStu</span>.<span style="color:#a6e22e">id</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">StuList</span>[<span style="color:#a6e22e">i</span>] = <span style="color:#a6e22e">newStu</span>
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;è¾“å…¥ä¿¡æ¯æœ‰è¯¯ï¼Œç³»ç»Ÿä¸­æ²¡æœ‰å­¦å·ä¸º %d çš„å­¦ç”Ÿ\n&#34;</span>, <span style="color:#a6e22e">newStu</span>.<span style="color:#a6e22e">id</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å±•ç¤ºå­¦ç”Ÿåˆ—è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">s</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">StuMS</span>) <span style="color:#a6e22e">showStudent</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">v</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">StuList</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;å­¦å·ï¼š%d å§“åï¼š%s å¹´é¾„ï¼š%d åˆ†æ•°:%d\n&#34;</span>, <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">id</span>, <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">age</span>, <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">grade</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// åˆ é™¤å­¦ç”Ÿ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// a = append(a[:index], a[index+1:]...)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">s</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">StuMS</span>) <span style="color:#a6e22e">delStudent</span>(<span style="color:#a6e22e">newStu</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">student</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">v</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">StuList</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">id</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">newStu</span>.<span style="color:#a6e22e">id</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">StuList</span> = append(<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">StuList</span>[:<span style="color:#a6e22e">i</span>], <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">StuList</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>:]<span style="color:#f92672">...</span>)
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;è¾“å…¥ä¿¡æ¯æœ‰è¯¯ï¼Œç³»ç»Ÿä¸­æ²¡æœ‰å­¦å·ä¸º %d çš„å­¦ç”Ÿ\n&#34;</span>, <span style="color:#a6e22e">newStu</span>.<span style="color:#a6e22e">id</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>

        </div>
        <div class="post-reward">
            <div style="padding: 0 0 0 0; margin: 0 0 0 0; width: 100%; font-size:16px; text-align: center;">
                <div id="QR" style="opacity: 0;">
                    <div id="wechat" style="display: inline-block">
                        <a class="fancybox" rel="group">
                            <img id="wechat_qr" src="https://N3bu74.github.io/img/wechat_pay.png" alt="wechat_pay"></a>
                        <p>å¾®ä¿¡</p>
                    </div>
                    <div id="alipay" style="display: inline-block">
                        <a class="fancybox" rel="group">
                            <img id="alipay_qr" src="https://N3bu74.github.io/img/wechat_pay.png" alt="alipay"></a>
                        <p>æ”¯ä»˜å®</p>
                    </div>
                </div>
                <button id="rewardButton"
                        onclick="
                    var qr = document.getElementById('QR');
                    if (qr.style.opacity === '0') {
                        qr.style.opacity='1';
                    } else {
                        qr.style.opacity='0'
                    }"
                >
                    <span>ğŸ§§ é¼“åŠ±</span>
                </button>
            </div>
        </div>

        <footer class="post-footer">
            
<nav class="paginav">
  <a class="prev" href="https://N3bu74.github.io/posts/tech/golang_package/">
    <span class="title">Â« ä¸Šä¸€é¡µ</span>
    <br>
    <span>Golang åŒ…</span>
  </a>
  <a class="next" href="https://N3bu74.github.io/posts/tech/golang_pointer/">
    <span class="title">ä¸‹ä¸€é¡µ Â»</span>
    <br>
    <span>Golang æŒ‡é’ˆ</span>
  </a>
</nav>

        </footer>
    </div>



<div>
    <div class="pagination__title">
        <span class="pagination__title-h" style="font-size: 20px;">ğŸ’¬è¯„è®º</span>
        <hr />
    </div>

    <div id="tcomment"></div>

    <script src="https://cdn.staticfile.org/twikoo/1.5.8/twikoo.all.min.js">
    </script>
    

    

    <script>
        twikoo.init({
            envId:  null , 
            el: "#tcomment",
            lang: 'zh-CN',
            region:  null ,
            path: window.TWIKOO_MAGIC_PATH||window.location.pathname,
            
            
            
            
            
            
            
        });
    </script>

</div>
</article>
</main>


<script async src="https://unpkg.com/mermaid@8.8.1/dist/mermaid.min.js"></script>


<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<footer class="footer">
    <span>
        Copyright
        &copy;
        2022-2023
        <a href="https://N3bu74.github.io" style="color:#939393;">N3bu74&#39;s Blog</a>
        All Rights Reserved
    </span>

    <a href="https://beian.miit.gov.cn/" target="_blank" style="color:#939393;"></a>&nbsp;

    <span>
        <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=null"
           style="display:inline-block;text-decoration:none;height:20px;color:#939393;">
            <img src="" style="float:left;margin: 0px 5px 0px 0px;"/>
            
        </a>
    </span>

    <span id="busuanzi_container">
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        æ€»è®¿å®¢æ•°: <span id="busuanzi_value_site_uv"></span>
        æ€»è®¿é—®é‡: <span id="busuanzi_value_site_pv"></span>
    </span>

</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <span class="topInner">
        <svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z"/>
        </svg>
        <span id="read_progress"></span>
    </span>
</a>

<script>
    document.addEventListener('scroll', function (e) {
        const readProgress = document.getElementById("read_progress");
        const scrollHeight = document.documentElement.scrollHeight;
        const clientHeight = document.documentElement.clientHeight;
        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        
        readProgress.innerText = ((scrollTop / (scrollHeight - clientHeight)).toFixed(2) * 100).toFixed(0);
    })
</script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    let mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 400 || document.documentElement.scrollTop > 400) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };
</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>

<script>
    document.body.addEventListener('copy', function (e) {
        if (window.getSelection().toString() && window.getSelection().toString().length > 50) {
            let clipboardData = e.clipboardData || window.clipboardData;
            if (clipboardData) {
                e.preventDefault();
                let htmlData = window.getSelection().toString() +
                    '\r\n\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ' + {
                { .
                    Site.Title
                }
            }
                +'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                let textData = window.getSelection().toString() +
                    '\r\n\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ' + {
                { .
                    Site.Title
                }
            }
                +'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                clipboardData.setData('text/html', htmlData);
                clipboardData.setData('text/plain', textData);
            }
        }
    });
</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'ğŸ“„å¤åˆ¶';

        function copyingDone() {
            copybutton.innerText = 'ğŸ‘ŒğŸ»å·²å¤åˆ¶!';
            setTimeout(() => {
                copybutton.innerText = 'ğŸ“„å¤åˆ¶';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                let text = codeblock.textContent +
                    '\r\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ' + "N3bu74's Blog"
                +'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                navigator.clipboard.writeText(text);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) {
            }
            ;
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild === container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName === "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>

<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script>
    $("code[class^=language] ").on("mouseover", function () {
        if (this.clientWidth < this.scrollWidth) {
            $(this).css("width", "135%")
        }
    }).on("mouseout", function () {
        $(this).css("width", "100%")
    })
</script>
</body>

</html>
